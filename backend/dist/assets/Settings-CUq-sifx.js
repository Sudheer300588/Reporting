import{c as lt,ah as ct,B as f,ak as n,aL as we,aq as Aa,aj as B,aE as Le,aF as Ve,aB as k,am as Ra,aM as Wt,aN as En,aD as Fa,an as La,aO as Ct,aI as In,al as gt,aP as An,aQ as Rn}from"./index-CPERY6Kl.js";import{c as Pt,S as Va,T as Fn,a as Ln,b as Da}from"./trash-2-BwB7RpK0.js";import{S as De}from"./save-OVuX2I-E.js";import{u as Vn,a as Dn,b as $n,i as Un}from"./helpers-CK_3Qtj6.js";import{u as $a,a as Bn,b as Hn}from"./useMautic-CVm8zvix.js";import{C as zn}from"./circle-x-Dmi7WjWk.js";const Gn=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ua=lt("check",Gn);const Wn=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],qn=lt("key",Wn);const Yn=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],qt=lt("loader",Yn);const Kn=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xn=lt("plus",Kn),Ba=f.createContext(null),je=()=>{const t=f.useContext(Ba);if(!t)throw new Error("useSettings must be used within SettingsLayout");return t},Jn=[{key:"roles",label:"Roles",superadminOnly:!0},{key:"mautic",label:"Autovation Clients"},{key:"notifs",label:"Notifications"},{key:"maintenance",label:"System Maintenance Email"},{key:"smtp",label:"SMTP Credentials"},{key:"sftp",label:"Voicemail SFTP Credentials"},{key:"vicidial",label:"Vicidial Credentials"},{key:"sitecustom",label:"Site Customization"},{key:"ai",label:"AI Assistant",superadminOnly:!0}],Zn=({children:t,myPermissions:e=[]})=>{const{user:s}=ct(),[r,a]=f.useState("mautic"),i=f.useRef(!1),l=f.useRef(null),c=f.useRef({}),o=(h,x)=>{c.current[h]=x},u=h=>{a(h),c.current[h]?.scrollIntoView({behavior:"smooth",block:"start"})};f.useEffect(()=>{const h=()=>{if(i.current)return;const b=["roles","mautic","notifs","maintenance","smtp","sftp","vicidial","sitecustom","ai"];for(const N of b){const O=c.current[N];if(!O)continue;const w=O.getBoundingClientRect();if(w.top<=200&&w.bottom>100){a(N);break}}},x=l.current;if(x)return x.addEventListener("scroll",h),window.addEventListener("scroll",h,!0),()=>{x.removeEventListener("scroll",h),window.removeEventListener("scroll",h,!0)}},[]);const d=()=>!!(s?.customRole?.fullAccess===!0||!s?.customRoleId&&["superadmin","admin"].includes(s?.role)),m={roles:"Roles",mautic:"Autovation Clients",notifs:"Notifications",maintenance:"System Maintenance Email",smtp:"SMTP Credentials",sftp:"Voicemail SFTP Credentials",vicidial:"Vicidial Credentials",sitecustom:"Site Customization",ai:"AI Assistant"},p=h=>{if(d())return!0;const x=m[h]||h,b=s?.customRole?.permissions?.Settings;return!!(b&&typeof b=="object"&&!Array.isArray(b)&&b[x]===!0||Array.isArray(b)&&b.includes(x)||e.includes(h)||e.includes(x))},g=Jn.filter(({key:h,superadminOnly:x})=>x&&!d()?!1:p(h));if(!(()=>{if(d()||s?.customRole?.permissions?.Pages?.Settings===!0)return!0;const h=s?.customRole?.permissions?.Settings;return!!(h&&typeof h=="object"&&!Array.isArray(h)&&Object.values(h).some(x=>x===!0)||Array.isArray(h)&&h.length>0||!s?.customRoleId&&["superadmin","admin"].includes(s?.role))})())return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 text-center",children:[n.jsx(Pt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Restricted"}),n.jsx("p",{className:"text-gray-500",children:"System settings are only available to Administrators."})]});const y={activeSection:r,setActiveSection:a,registerSection:o,scrollToSection:u,canAccessSetting:p,isInteractingRef:i,user:s,myPermissions:e};return n.jsx(Ba.Provider,{value:y,children:n.jsxs("div",{className:"flex max-w-7xl mx-auto px-4 py-8",children:[n.jsxs("nav",{className:"hidden md:block w-72 pr-8 border-r border-gray-200 sticky top-8 h-[calc(100vh-4rem)] overflow-y-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Settings"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage system configuration"})]}),n.jsx("ul",{className:"space-y-1 text-sm",children:g.map(({key:h,label:x})=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>u(h),className:`flex items-center gap-3 w-full text-left px-4 py-3 rounded-lg transition-all duration-200 
                    ${r===h?"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 font-medium shadow-sm border border-blue-200":"text-gray-700 hover:bg-gray-50 hover:text-gray-900 border border-transparent"}
                  `,children:[n.jsx(we,{size:18,className:r===h?"text-blue-600":"text-gray-400"}),n.jsx("span",{className:"flex-1",children:x}),r===h&&n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"})]})},h))})]}),n.jsx("div",{ref:l,className:"flex-1 ml-0 md:ml-8 pb-10 overflow-y-auto max-h-screen",children:t})]})})},ye=({id:t,children:e,className:s=""})=>{const{registerSection:r,isInteractingRef:a}=je(),i=f.useRef(null);return f.useEffect(()=>{i.current&&r(t,i.current)},[t,r]),n.jsx("section",{ref:i,id:t,className:`scroll-mt-20 mb-12 ${s}`,onMouseDown:()=>a.current=!0,onMouseUp:()=>a.current=!1,onMouseLeave:()=>a.current=!1,children:e})},Qn=()=>n.jsxs("div",{className:"mb-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),n.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Configure and manage your system preferences"})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl shadow-sm",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Aa,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:"Email Notifications Ready"}),n.jsx("p",{className:"text-sm text-green-700 mb-2",children:"Your email system is configured and ready to use."}),n.jsxs("ul",{className:"space-y-1.5 text-sm text-green-700",children:[n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"}),"Enable notifications in the ",n.jsx("span",{className:"font-medium",children:"Notifications"})," section"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"}),"Customize reminder times and preferences"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"}),"Update email in ",n.jsx("a",{href:"/profile",className:"font-semibold underline hover:text-green-900",children:"Profile"})]})]})]})]})})]}),Yt={host:"",port:587,username:"",password:"",fromAddress:""},es=()=>{const{user:t}=ct(),{canAccessSetting:e}=je(),[s,r]=f.useState(Yt),[a,i]=f.useState(!1),[l,c]=f.useState(!1);f.useEffect(()=>{o()},[]);const o=async()=>{i(!0);try{const p=await B.get("/api/superadmin/smtp-credentials");p.data?.data&&r({...Yt,...p.data.data})}catch(p){console.error("Error fetching SMTP credentials",p)}finally{i(!1)}},u=p=>{const{name:g,value:v}=p.target;r(y=>({...y,[g]:v}))},d=async()=>{i(!0);try{const p={host:s.host.trim(),port:s.port,username:s.username.trim(),password:s.password.trim(),fromAddress:s.fromAddress.trim()};await B.post("/api/superadmin/smtp-credentials",p),k.success("SMTP credentials saved successfully")}catch(p){k.error(p.response?.data?.message||"Failed to save SMTP credentials")}finally{i(!1)}},m=async()=>{if(!s.host||!s.username||!s.password||!s.fromAddress){k.error("Please fill in all SMTP fields before testing");return}const p=k.loading("Sending test email...");try{const g=await B.post("/api/superadmin/smtp-credentials/test",{host:s.host.trim(),port:s.port,username:s.username.trim(),password:s.password.trim(),fromAddress:s.fromAddress.trim(),toAddress:t?.email||s.fromAddress});g.data?.success?k.update(p,{render:`Test email sent successfully to ${t?.email||s.fromAddress}`,type:"success",isLoading:!1,autoClose:5e3}):k.update(p,{render:g.data?.message||"Test email failed",type:"error",isLoading:!1,autoClose:5e3})}catch(g){k.update(p,{render:g.response?.data?.message||"Failed to send test email",type:"error",isLoading:!1,autoClose:5e3})}};return e("smtp")?n.jsx(ye,{id:"smtp",children:n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(we,{className:"mr-2",size:20}),"SMTP Credentials"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure your SMTP server for sending email notifications."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP Host"}),n.jsx("input",{type:"text",name:"host",value:s.host,onChange:u,className:"input",placeholder:"smtp.example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),n.jsx("input",{type:"number",name:"port",value:s.port,onChange:u,className:"input",placeholder:"587"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),n.jsx("input",{type:"text",name:"username",value:s.username,onChange:u,className:"input",placeholder:"user@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l?"text":"password",name:"password",value:s.password,onChange:u,className:"input pr-10",placeholder:"••••••••"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:l?n.jsx(Le,{size:18}):n.jsx(Ve,{size:18})})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Address"}),n.jsx("input",{type:"email",name:"fromAddress",value:s.fromAddress,onChange:u,className:"input",placeholder:"noreply@example.com"})]})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsxs("button",{onClick:d,className:"btn btn-primary flex items-center",disabled:a,children:[n.jsx(De,{size:16,className:"mr-2"}),a?"Saving...":"Save Credentials"]}),n.jsx("button",{onClick:m,className:"btn btn-secondary",disabled:a,children:"Send Test Email"})]})]})}):null},Kt={host:"",port:22,username:"",password:"",remotePath:"/reports"},ts=()=>{const{canAccessSetting:t}=je(),[e,s]=f.useState(Kt),[r,a]=f.useState(!1),[i,l]=f.useState(!1),[c,o]=f.useState(!1),{triggerFetch:u,isFetching:d}=Vn(),{refetch:m}=Dn(),{refetch:p}=$n();f.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const b=await B.get("/api/superadmin/sftp-credentials");b.data?.data&&s({...Kt,...b.data.data})}catch(b){console.error("Error fetching SFTP credentials",b)}finally{a(!1)}},v=b=>{const{name:N,value:O}=b.target;s(w=>({...w,[N]:O}))},y=async()=>{a(!0);try{const b={host:e.host.trim(),port:e.port,username:e.username.trim(),password:e.password.trim(),remotePath:e.remotePath.trim()};await B.post("/api/superadmin/sftp-credentials",b),k.success("SFTP credentials saved"),k.info("Starting SFTP sync... This may take 30-60 seconds.",{autoClose:3e3});const N=await u();if(N.success){try{await m(),await p()}catch(O){console.warn("Failed to refresh DropCowboy data after fetch",O)}N.data?.warning?k.warning(N.data.warning,{autoClose:5e3}):N.data?.filesDownloaded>0?k.success(`Successfully fetched ${N.data.filesDownloaded} files from SFTP!`,{autoClose:5e3}):k.info("Sync completed - using existing data.",{autoClose:3e3})}else k.error("Failed to fetch data: "+(N.error||"Unknown error"),{autoClose:5e3})}catch(b){k.error(b.response?.data?.message||"Failed to save SFTP credentials")}finally{a(!1)}},h=async()=>{if(!e.host||!e.username||!e.password){k.error("Please fill in all SFTP fields before testing");return}l(!0);const b=k.loading("Testing SFTP connection...");try{const N=await B.post("/api/superadmin/sftp-credentials/test",{host:e.host.trim(),port:e.port,username:e.username.trim(),password:e.password.trim(),remotePath:e.remotePath.trim()});N.data?.success?k.update(b,{render:"SFTP connection successful!",type:"success",isLoading:!1,autoClose:5e3}):k.update(b,{render:N.data?.message||"SFTP connection failed",type:"error",isLoading:!1,autoClose:5e3})}catch(N){k.update(b,{render:N.response?.data?.message||"Failed to test SFTP connection",type:"error",isLoading:!1,autoClose:5e3})}finally{l(!1)}},x=async()=>{k.info("Starting SFTP sync... This may take 30-60 seconds.",{autoClose:3e3});try{const b=await u();if(b.success){try{await m(),await p()}catch(N){console.warn("Failed to refetch dropCowboy data",N)}b.data?.warning?k.warning(b.data.warning,{autoClose:5e3}):b.data?.filesDownloaded>0?k.success(`Successfully fetched ${b.data.filesDownloaded} files from SFTP!`,{autoClose:5e3}):k.info("Sync completed - using existing data.",{autoClose:3e3})}else k.error("Failed to fetch data: "+(b.error||"Unknown error"),{autoClose:5e3})}catch(b){console.error("Error while triggering manual fetch",b),k.error("Failed to start SFTP sync")}};return t("sftp")?n.jsx(ye,{id:"sftp",children:n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(we,{className:"mr-2",size:20}),"Voicemail SFTP Credentials (DropCowboy)"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure SFTP connection for DropCowboy ringless voicemail data sync."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SFTP Host"}),n.jsx("input",{type:"text",name:"host",value:e.host,onChange:v,className:"input",placeholder:"sftp.example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),n.jsx("input",{type:"number",name:"port",value:e.port,onChange:v,className:"input",placeholder:"22"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),n.jsx("input",{type:"text",name:"username",value:e.username,onChange:v,className:"input",placeholder:"sftp_user"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c?"text":"password",name:"password",value:e.password,onChange:v,className:"input pr-10",placeholder:"••••••••"}),n.jsx("button",{type:"button",onClick:()=>o(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:c?n.jsx(Le,{size:18}):n.jsx(Ve,{size:18})})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remote Path"}),n.jsx("input",{type:"text",name:"remotePath",value:e.remotePath,onChange:v,className:"input",placeholder:"/reports"})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[n.jsxs("button",{onClick:y,className:"btn btn-primary flex items-center",disabled:r||d,children:[n.jsx(De,{size:16,className:"mr-2"}),r?"Saving...":"Save Credentials"]}),n.jsx("button",{onClick:h,className:"btn btn-secondary",disabled:i||r,children:i?"Testing...":"Test Connection"}),n.jsxs("button",{onClick:x,className:"btn btn-secondary flex items-center",disabled:d||r,children:[n.jsx(Ra,{size:16,className:`mr-2 ${d?"animate-spin":""}`}),d?"Syncing...":"Fetch Now"]})]})]})}):null},Xt={url:"",username:"",password:""},as=()=>{const{canAccessSetting:t}=je(),[e,s]=f.useState(Xt),[r,a]=f.useState(!1),[i,l]=f.useState(!1),[c,o]=f.useState(!1);f.useEffect(()=>{u()},[]);const u=async()=>{a(!0);try{const g=await B.get("/api/superadmin/vicidial-credentials");g.data?.data&&s({...Xt,...g.data.data})}catch(g){console.error("Error fetching Vicidial credentials",g)}finally{a(!1)}},d=g=>{const{name:v,value:y}=g.target;s(h=>({...h,[v]:y}))},m=async()=>{a(!0);try{const g={url:e.url.trim(),username:e.username.trim(),password:e.password.trim()};await B.post("/api/superadmin/vicidial-credentials",g),k.success("Vicidial credentials saved successfully")}catch(g){k.error(g.response?.data?.message||"Failed to save Vicidial credentials")}finally{a(!1)}},p=async()=>{if(!e.url||!e.username||!e.password){k.error("Please fill in all Vicidial fields before testing");return}l(!0);const g=k.loading("Testing Vicidial connection...");try{const v=await B.post("/api/superadmin/vicidial-credentials/test",{url:e.url.trim(),username:e.username.trim(),password:e.password.trim()});v.data?.success?k.update(g,{render:"Vicidial connection successful!",type:"success",isLoading:!1,autoClose:5e3}):k.update(g,{render:v.data?.message||"Vicidial connection failed",type:"error",isLoading:!1,autoClose:5e3})}catch(v){k.update(g,{render:v.response?.data?.message||"Failed to test Vicidial connection",type:"error",isLoading:!1,autoClose:5e3})}finally{l(!1)}};return t("vicidial")?n.jsx(ye,{id:"vicidial",children:n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(we,{className:"mr-2",size:20}),"Vicidial Credentials"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure connection to your Vicidial call center system."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vicidial URL"}),n.jsx("input",{type:"text",name:"url",value:e.url,onChange:d,className:"input",placeholder:"https://vicidial.example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),n.jsx("input",{type:"text",name:"username",value:e.username,onChange:d,className:"input",placeholder:"admin"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c?"text":"password",name:"password",value:e.password,onChange:d,className:"input pr-10",placeholder:"••••••••"}),n.jsx("button",{type:"button",onClick:()=>o(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:c?n.jsx(Le,{size:18}):n.jsx(Ve,{size:18})})]})]})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsxs("button",{onClick:m,className:"btn btn-primary flex items-center",disabled:r,children:[n.jsx(De,{size:16,className:"mr-2"}),r?"Saving...":"Save Credentials"]}),n.jsx("button",{onClick:p,className:"btn btn-secondary",disabled:i||r,children:i?"Testing...":"Test Connection"})]})]})}):null},ns=({clients:t,onEdit:e,onRefresh:s})=>{const{deleteClient:r,hardDeleteClient:a,isDeleting:i}=$a(),[l,c]=f.useState({}),o=m=>{c(p=>({...p,[m]:!p[m]}))},u=async m=>{const p=m.isActive?"deactivate":"activate";if(!window.confirm(`Are you sure you want to ${p} "${m.name}" (ID: ${m.id})?`))return;const g=await r(m.id);g.success?(alert(`Client ${m.isActive?"deactivated":"activated"} successfully!`),s()):alert(`Failed to ${p} client: `+g.error)},d=async m=>{const p=`Are you sure you want to PERMANENTLY DELETE "${m.name}"?

This will remove:
- All synced emails
- All campaigns
- All segments
- All sync logs

This action cannot be undone!`;if(!window.confirm(p)||!window.confirm(`Final confirmation: Delete "${m.name}" and ALL associated data permanently?`))return;const v=await a(m.id);v.success?(alert(v.message||"Client permanently deleted!"),s()):alert("Failed to delete client: "+v.error)};return!t||t.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No clients configured yet. Add your first Mautic client to get started."})}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Autovation Clients"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your Autovation instance connections"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Autovation"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("a",{href:m.mauticUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 transition",children:"Launch"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold capitalize text-gray-900 first-letter:uppercase flex justify-start items-center gap-2",children:l[m.id]?n.jsxs(n.Fragment,{children:[m.username,n.jsx("button",{className:"text-sm text-blue-700 cursor-pointer flex items-center gap-2",onClick:()=>o(m.id),children:n.jsx(Le,{size:14})})]}):n.jsxs(n.Fragment,{children:[m.username.replace(/./g,"*"),n.jsx("button",{className:"text-sm text-blue-700 cursor-pointer flex items-center gap-2",onClick:()=>o(m.id),children:n.jsx(Ve,{size:14})})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.isActive?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(Aa,{size:12}),"Active"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx(zn,{size:12}),"Inactive"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>e(m),className:"text-blue-600 hover:text-blue-900 p-1.5 hover:bg-blue-50 rounded transition-colors",title:"Edit client",children:n.jsx(Va,{size:16})}),n.jsx("button",{onClick:()=>u(m),disabled:i,className:`p-1.5 rounded transition-colors disabled:opacity-50 ${m.isActive?"text-green-600 hover:text-green-900 hover:bg-green-50":"text-gray-400 hover:text-gray-700 hover:bg-gray-100"}`,title:m.isActive?"Deactivate client":"Activate client","aria-label":m.isActive?"Deactivate client":"Activate client",children:m.isActive?n.jsx(Fn,{size:18}):n.jsx(Ln,{size:18})}),n.jsx("button",{onClick:()=>d(m),disabled:i,className:"text-red-600 hover:text-red-900 p-1.5 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Permanently delete client","aria-label":"Permanently delete client",children:n.jsx(Da,{size:16})})]})})]},m.id))})]})})]})};function Ce(t){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(t)}function ss(t,e){if(Ce(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(Ce(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ha(t){var e=ss(t,"string");return Ce(e)=="symbol"?e:e+""}function Ie(t,e,s){return(e=Ha(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Jt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,r)}return s}function R(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Jt(Object(s),!0).forEach(function(r){Ie(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Jt(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function rs(t){if(Array.isArray(t))return t}function is(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var r,a,i,l,c=[],o=!0,u=!1;try{if(i=(s=s.call(t)).next,e===0){if(Object(s)!==s)return;o=!1}else for(;!(o=(r=i.call(s)).done)&&(c.push(r.value),c.length!==e);o=!0);}catch(d){u=!0,a=d}finally{try{if(!o&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}function kt(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,r=Array(e);s<e;s++)r[s]=t[s];return r}function za(t,e){if(t){if(typeof t=="string")return kt(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?kt(t,e):void 0}}function os(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xe(t,e){return rs(t)||is(t,e)||za(t,e)||os()}function ls(t,e){if(t==null)return{};var s={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;s[r]=t[r]}return s}function Ne(t,e){if(t==null)return{};var s,r,a=ls(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],e.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}var cs=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function us(t){var e=t.defaultInputValue,s=e===void 0?"":e,r=t.defaultMenuIsOpen,a=r===void 0?!1:r,i=t.defaultValue,l=i===void 0?null:i,c=t.inputValue,o=t.menuIsOpen,u=t.onChange,d=t.onInputChange,m=t.onMenuClose,p=t.onMenuOpen,g=t.value,v=Ne(t,cs),y=f.useState(c!==void 0?c:s),h=xe(y,2),x=h[0],b=h[1],N=f.useState(o!==void 0?o:a),O=xe(N,2),w=O[0],C=O[1],P=f.useState(g!==void 0?g:l),T=xe(P,2),M=T[0],H=T[1],K=f.useCallback(function(A,V){typeof u=="function"&&u(A,V),H(A)},[u]),q=f.useCallback(function(A,V){var G;typeof d=="function"&&(G=d(A,V)),b(G!==void 0?G:A)},[d]),Z=f.useCallback(function(){typeof p=="function"&&p(),C(!0)},[p]),Q=f.useCallback(function(){typeof m=="function"&&m(),C(!1)},[m]),W=c!==void 0?c:x,L=o!==void 0?o:w,E=g!==void 0?g:M;return R(R({},v),{},{inputValue:W,menuIsOpen:L,onChange:K,onInputChange:q,onMenuClose:Q,onMenuOpen:Z,value:E})}function F(){return F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)({}).hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},F.apply(null,arguments)}function ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zt(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ha(r.key),r)}}function ms(t,e,s){return e&&Zt(t.prototype,e),s&&Zt(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},Ot(t,e)}function fs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(t)}function Ga(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ga=function(){return!!t})()}function ps(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gs(t,e){if(e&&(Ce(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ps(t)}function hs(t){var e=Ga();return function(){var s,r=et(t);if(e){var a=et(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return gs(this,s)}}function vs(t){if(Array.isArray(t))return kt(t)}function bs(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(t){return vs(t)||bs(t)||za(t)||xs()}function ys(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Ss(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ws=(function(){function t(s){var r=this;this._insertTag=function(a){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,i),r.tags.push(a)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ss(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=ys(a);try{i.insertRule(r,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t})(),ie="-ms-",tt="-moz-",$="-webkit-",Wa="comm",Ft="rule",Lt="decl",js="@import",qa="@keyframes",Ns="@layer",Cs=Math.abs,ut=String.fromCharCode,Ps=Object.assign;function ks(t,e){return re(t,0)^45?(((e<<2^re(t,0))<<2^re(t,1))<<2^re(t,2))<<2^re(t,3):0}function Ya(t){return t.trim()}function Os(t,e){return(t=e.exec(t))?t[0]:t}function U(t,e,s){return t.replace(e,s)}function Mt(t,e){return t.indexOf(e)}function re(t,e){return t.charCodeAt(e)|0}function Ae(t,e,s){return t.slice(e,s)}function he(t){return t.length}function Vt(t){return t.length}function Be(t,e){return e.push(t),t}function Ms(t,e){return t.map(e).join("")}var dt=1,Oe=1,Ka=0,oe=0,te=0,_e="";function mt(t,e,s,r,a,i,l){return{value:t,root:e,parent:s,type:r,props:a,children:i,line:dt,column:Oe,length:l,return:""}}function Te(t,e){return Ps(mt("",null,null,"",null,null,0),t,{length:-t.length},e)}function _s(){return te}function Ts(){return te=oe>0?re(_e,--oe):0,Oe--,te===10&&(Oe=1,dt--),te}function de(){return te=oe<Ka?re(_e,oe++):0,Oe++,te===10&&(Oe=1,dt++),te}function be(){return re(_e,oe)}function Xe(){return oe}function $e(t,e){return Ae(_e,t,e)}function Re(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xa(t){return dt=Oe=1,Ka=he(_e=t),oe=0,[]}function Ja(t){return _e="",t}function Je(t){return Ya($e(oe-1,_t(t===91?t+2:t===40?t+1:t)))}function Es(t){for(;(te=be())&&te<33;)de();return Re(t)>2||Re(te)>3?"":" "}function Is(t,e){for(;--e&&de()&&!(te<48||te>102||te>57&&te<65||te>70&&te<97););return $e(t,Xe()+(e<6&&be()==32&&de()==32))}function _t(t){for(;de();)switch(te){case t:return oe;case 34:case 39:t!==34&&t!==39&&_t(te);break;case 40:t===41&&_t(t);break;case 92:de();break}return oe}function As(t,e){for(;de()&&t+te!==57;)if(t+te===84&&be()===47)break;return"/*"+$e(e,oe-1)+"*"+ut(t===47?t:de())}function Rs(t){for(;!Re(be());)de();return $e(t,oe)}function Fs(t){return Ja(Ze("",null,null,null,[""],t=Xa(t),0,[0],t))}function Ze(t,e,s,r,a,i,l,c,o){for(var u=0,d=0,m=l,p=0,g=0,v=0,y=1,h=1,x=1,b=0,N="",O=a,w=i,C=r,P=N;h;)switch(v=b,b=de()){case 40:if(v!=108&&re(P,m-1)==58){Mt(P+=U(Je(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:P+=Je(b);break;case 9:case 10:case 13:case 32:P+=Es(v);break;case 92:P+=Is(Xe()-1,7);continue;case 47:switch(be()){case 42:case 47:Be(Ls(As(de(),Xe()),e,s),o);break;default:P+="/"}break;case 123*y:c[u++]=he(P)*x;case 125*y:case 59:case 0:switch(b){case 0:case 125:h=0;case 59+d:x==-1&&(P=U(P,/\f/g,"")),g>0&&he(P)-m&&Be(g>32?ea(P+";",r,s,m-1):ea(U(P," ","")+";",r,s,m-2),o);break;case 59:P+=";";default:if(Be(C=Qt(P,e,s,u,d,a,c,N,O=[],w=[],m),i),b===123)if(d===0)Ze(P,e,C,C,O,i,m,c,w);else switch(p===99&&re(P,3)===110?100:p){case 100:case 108:case 109:case 115:Ze(t,C,C,r&&Be(Qt(t,C,C,0,0,a,c,N,a,O=[],m),w),a,w,m,c,r?O:w);break;default:Ze(P,C,C,C,[""],w,0,c,w)}}u=d=g=0,y=x=1,N=P="",m=l;break;case 58:m=1+he(P),g=v;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&Ts()==125)continue}switch(P+=ut(b),b*y){case 38:x=d>0?1:(P+="\f",-1);break;case 44:c[u++]=(he(P)-1)*x,x=1;break;case 64:be()===45&&(P+=Je(de())),p=be(),d=m=he(N=P+=Rs(Xe())),b++;break;case 45:v===45&&he(P)==2&&(y=0)}}return i}function Qt(t,e,s,r,a,i,l,c,o,u,d){for(var m=a-1,p=a===0?i:[""],g=Vt(p),v=0,y=0,h=0;v<r;++v)for(var x=0,b=Ae(t,m+1,m=Cs(y=l[v])),N=t;x<g;++x)(N=Ya(y>0?p[x]+" "+b:U(b,/&\f/g,p[x])))&&(o[h++]=N);return mt(t,e,s,a===0?Ft:c,o,u,d)}function Ls(t,e,s){return mt(t,e,s,Wa,ut(_s()),Ae(t,2,-2),0)}function ea(t,e,s,r){return mt(t,e,s,Lt,Ae(t,0,r),Ae(t,r+1,-1),r)}function ke(t,e){for(var s="",r=Vt(t),a=0;a<r;a++)s+=e(t[a],a,t,e)||"";return s}function Vs(t,e,s,r){switch(t.type){case Ns:if(t.children.length)break;case js:case Lt:return t.return=t.return||t.value;case Wa:return"";case qa:return t.return=t.value+"{"+ke(t.children,r)+"}";case Ft:t.value=t.props.join(",")}return he(s=ke(t.children,r))?t.return=t.value+"{"+s+"}":""}function Ds(t){var e=Vt(t);return function(s,r,a,i){for(var l="",c=0;c<e;c++)l+=t[c](s,r,a,i)||"";return l}}function $s(t){return function(e){e.root||(e=e.return)&&t(e)}}function Us(t){var e=Object.create(null);return function(s){return e[s]===void 0&&(e[s]=t(s)),e[s]}}var Bs=function(e,s,r){for(var a=0,i=0;a=i,i=be(),a===38&&i===12&&(s[r]=1),!Re(i);)de();return $e(e,oe)},Hs=function(e,s){var r=-1,a=44;do switch(Re(a)){case 0:a===38&&be()===12&&(s[r]=1),e[r]+=Bs(oe-1,s,r);break;case 2:e[r]+=Je(a);break;case 4:if(a===44){e[++r]=be()===58?"&\f":"",s[r]=e[r].length;break}default:e[r]+=ut(a)}while(a=de());return e},zs=function(e,s){return Ja(Hs(Xa(e),s))},ta=new WeakMap,Gs=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var s=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&s.charCodeAt(0)!==58&&!ta.get(r))&&!a){ta.set(e,!0);for(var i=[],l=zs(s,i),c=r.props,o=0,u=0;o<l.length;o++)for(var d=0;d<c.length;d++,u++)e.props[u]=i[o]?l[o].replace(/&\f/g,c[d]):c[d]+" "+l[o]}}},Ws=function(e){if(e.type==="decl"){var s=e.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(e.return="",e.value="")}};function Za(t,e){switch(ks(t,e)){case 5103:return $+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return $+t+tt+t+ie+t+t;case 6828:case 4268:return $+t+ie+t+t;case 6165:return $+t+ie+"flex-"+t+t;case 5187:return $+t+U(t,/(\w+).+(:[^]+)/,$+"box-$1$2"+ie+"flex-$1$2")+t;case 5443:return $+t+ie+"flex-item-"+U(t,/flex-|-self/,"")+t;case 4675:return $+t+ie+"flex-line-pack"+U(t,/align-content|flex-|-self/,"")+t;case 5548:return $+t+ie+U(t,"shrink","negative")+t;case 5292:return $+t+ie+U(t,"basis","preferred-size")+t;case 6060:return $+"box-"+U(t,"-grow","")+$+t+ie+U(t,"grow","positive")+t;case 4554:return $+U(t,/([^-])(transform)/g,"$1"+$+"$2")+t;case 6187:return U(U(U(t,/(zoom-|grab)/,$+"$1"),/(image-set)/,$+"$1"),t,"")+t;case 5495:case 3959:return U(t,/(image-set\([^]*)/,$+"$1$`$1");case 4968:return U(U(t,/(.+:)(flex-)?(.*)/,$+"box-pack:$3"+ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$+t+t;case 4095:case 3583:case 4068:case 2532:return U(t,/(.+)-inline(.+)/,$+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(he(t)-1-e>6)switch(re(t,e+1)){case 109:if(re(t,e+4)!==45)break;case 102:return U(t,/(.+:)(.+)-([^]+)/,"$1"+$+"$2-$3$1"+tt+(re(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Mt(t,"stretch")?Za(U(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(re(t,e+1)!==115)break;case 6444:switch(re(t,he(t)-3-(~Mt(t,"!important")&&10))){case 107:return U(t,":",":"+$)+t;case 101:return U(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$+(re(t,14)===45?"inline-":"")+"box$3$1"+$+"$2$3$1"+ie+"$2box$3")+t}break;case 5936:switch(re(t,e+11)){case 114:return $+t+ie+U(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return $+t+ie+U(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return $+t+ie+U(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return $+t+ie+t+t}return t}var qs=function(e,s,r,a){if(e.length>-1&&!e.return)switch(e.type){case Lt:e.return=Za(e.value,e.length);break;case qa:return ke([Te(e,{value:U(e.value,"@","@"+$)})],a);case Ft:if(e.length)return Ms(e.props,function(i){switch(Os(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ke([Te(e,{props:[U(i,/:(read-\w+)/,":"+tt+"$1")]})],a);case"::placeholder":return ke([Te(e,{props:[U(i,/:(plac\w+)/,":"+$+"input-$1")]}),Te(e,{props:[U(i,/:(plac\w+)/,":"+tt+"$1")]}),Te(e,{props:[U(i,/:(plac\w+)/,ie+"input-$1")]})],a)}return""})}},Ys=[qs],Ks=function(e){var s=e.key;if(s==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var h=y.getAttribute("data-emotion");h.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||Ys,i={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(y){for(var h=y.getAttribute("data-emotion").split(" "),x=1;x<h.length;x++)i[h[x]]=!0;c.push(y)});var o,u=[Gs,Ws];{var d,m=[Vs,$s(function(y){d.insert(y)})],p=Ds(u.concat(a,m)),g=function(h){return ke(Fs(h),p)};o=function(h,x,b,N){d=b,g(h?h+"{"+x.styles+"}":x.styles),N&&(v.inserted[x.name]=!0)}}var v={key:s,sheet:new ws({key:s,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:o};return v.sheet.hydrate(c),v},ht={exports:{}},z={};var aa;function Xs(){if(aa)return z;aa=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,s=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,o=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,h=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function N(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case e:switch(w=w.type,w){case o:case u:case r:case i:case a:case m:return w;default:switch(w=w&&w.$$typeof,w){case c:case d:case v:case g:case l:return w;default:return C}}case s:return C}}}function O(w){return N(w)===u}return z.AsyncMode=o,z.ConcurrentMode=u,z.ContextConsumer=c,z.ContextProvider=l,z.Element=e,z.ForwardRef=d,z.Fragment=r,z.Lazy=v,z.Memo=g,z.Portal=s,z.Profiler=i,z.StrictMode=a,z.Suspense=m,z.isAsyncMode=function(w){return O(w)||N(w)===o},z.isConcurrentMode=O,z.isContextConsumer=function(w){return N(w)===c},z.isContextProvider=function(w){return N(w)===l},z.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},z.isForwardRef=function(w){return N(w)===d},z.isFragment=function(w){return N(w)===r},z.isLazy=function(w){return N(w)===v},z.isMemo=function(w){return N(w)===g},z.isPortal=function(w){return N(w)===s},z.isProfiler=function(w){return N(w)===i},z.isStrictMode=function(w){return N(w)===a},z.isSuspense=function(w){return N(w)===m},z.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===u||w===i||w===a||w===m||w===p||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===g||w.$$typeof===l||w.$$typeof===c||w.$$typeof===d||w.$$typeof===h||w.$$typeof===x||w.$$typeof===b||w.$$typeof===y)},z.typeOf=N,z}var na;function Js(){return na||(na=1,ht.exports=Xs()),ht.exports}var vt,sa;function Zs(){if(sa)return vt;sa=1;var t=Js(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=a;function l(v){return t.isMemo(v)?a:i[v.$$typeof]||e}var c=Object.defineProperty,o=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;function g(v,y,h){if(typeof y!="string"){if(p){var x=m(y);x&&x!==p&&g(v,x,h)}var b=o(y);u&&(b=b.concat(u(y)));for(var N=l(v),O=l(y),w=0;w<b.length;++w){var C=b[w];if(!s[C]&&!(h&&h[C])&&!(O&&O[C])&&!(N&&N[C])){var P=d(y,C);try{c(v,C,P)}catch{}}}}return v}return vt=g,vt}Zs();var Qs=!0;function er(t,e,s){var r="";return s.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var Qa=function(e,s,r){var a=e.key+"-"+s.name;(r===!1||Qs===!1)&&e.registered[a]===void 0&&(e.registered[a]=s.styles)},tr=function(e,s,r){Qa(e,s,r);var a=e.key+"-"+s.name;if(e.inserted[s.name]===void 0){var i=s;do e.insert(s===i?"."+a:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function ar(t){for(var e=0,s,r=0,a=t.length;a>=4;++r,a-=4)s=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,e=(s&65535)*1540483477+((s>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var nr={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sr=/[A-Z]|^ms/g,rr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,en=function(e){return e.charCodeAt(1)===45},ra=function(e){return e!=null&&typeof e!="boolean"},bt=Us(function(t){return en(t)?t:t.replace(sr,"-$&").toLowerCase()}),ia=function(e,s){switch(e){case"animation":case"animationName":if(typeof s=="string")return s.replace(rr,function(r,a,i){return ve={name:a,styles:i,next:ve},a})}return nr[e]!==1&&!en(e)&&typeof s=="number"&&s!==0?s+"px":s};function Fe(t,e,s){if(s==null)return"";var r=s;if(r.__emotion_styles!==void 0)return r;switch(typeof s){case"boolean":return"";case"object":{var a=s;if(a.anim===1)return ve={name:a.name,styles:a.styles,next:ve},a.name;var i=s;if(i.styles!==void 0){var l=i.next;if(l!==void 0)for(;l!==void 0;)ve={name:l.name,styles:l.styles,next:ve},l=l.next;var c=i.styles+";";return c}return ir(t,e,s)}case"function":{if(t!==void 0){var o=ve,u=s(t);return ve=o,Fe(t,e,u)}break}}var d=s;return d}function ir(t,e,s){var r="";if(Array.isArray(s))for(var a=0;a<s.length;a++)r+=Fe(t,e,s[a])+";";else for(var i in s){var l=s[i];if(typeof l!="object"){var c=l;ra(c)&&(r+=bt(i)+":"+ia(i,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var o=0;o<l.length;o++)ra(l[o])&&(r+=bt(i)+":"+ia(i,l[o])+";");else{var u=Fe(t,e,l);switch(i){case"animation":case"animationName":{r+=bt(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var oa=/label:\s*([^\s;{]+)\s*(;|$)/g,ve;function tn(t,e,s){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";ve=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,a+=Fe(s,e,i);else{var l=i;a+=l[0]}for(var c=1;c<t.length;c++)if(a+=Fe(s,e,t[c]),r){var o=i;a+=o[c]}oa.lastIndex=0;for(var u="",d;(d=oa.exec(a))!==null;)u+="-"+d[1];var m=ar(a)+u;return{name:m,styles:a,next:ve}}var or=function(e){return e()},lr=Wt.useInsertionEffect?Wt.useInsertionEffect:!1,cr=lr||or,an=f.createContext(typeof HTMLElement<"u"?Ks({key:"css"}):null);an.Provider;var ur=function(e){return f.forwardRef(function(s,r){var a=f.useContext(an);return e(s,a,r)})},dr=f.createContext({}),Dt={}.hasOwnProperty,Tt="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mr=function(e,s){var r={};for(var a in s)Dt.call(s,a)&&(r[a]=s[a]);return r[Tt]=e,r},fr=function(e){var s=e.cache,r=e.serialized,a=e.isStringTag;return Qa(s,r,a),cr(function(){return tr(s,r,a)}),null},pr=ur(function(t,e,s){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[Tt],i=[r],l="";typeof t.className=="string"?l=er(e.registered,i,t.className):t.className!=null&&(l=t.className+" ");var c=tn(i,void 0,f.useContext(dr));l+=e.key+"-"+c.name;var o={};for(var u in t)Dt.call(t,u)&&u!=="css"&&u!==Tt&&(o[u]=t[u]);return o.className=l,s&&(o.ref=s),f.createElement(f.Fragment,null,f.createElement(fr,{cache:e,serialized:c,isStringTag:typeof a=="string"}),f.createElement(a,o))}),gr=pr,I=function(e,s){var r=arguments;if(s==null||!Dt.call(s,"css"))return f.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=gr,i[1]=mr(e,s);for(var l=2;l<a;l++)i[l]=r[l];return f.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(I||(I={}));function $t(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return tn(e)}function hr(){var t=$t.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function vr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const br=Math.min,xr=Math.max,at=Math.round,He=Math.floor,nt=t=>({x:t,y:t});function yr(t){const{x:e,y:s,width:r,height:a}=t;return{width:r,height:a,top:s,left:e,right:e+r,bottom:s+a,x:e,y:s}}function ft(){return typeof window<"u"}function nn(t){return rn(t)?(t.nodeName||"").toLowerCase():"#document"}function Se(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(rn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rn(t){return ft()?t instanceof Node||t instanceof Se(t).Node:!1}function Sr(t){return ft()?t instanceof Element||t instanceof Se(t).Element:!1}function Ut(t){return ft()?t instanceof HTMLElement||t instanceof Se(t).HTMLElement:!1}function la(t){return!ft()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Se(t).ShadowRoot}const wr=new Set(["inline","contents"]);function on(t){const{overflow:e,overflowX:s,overflowY:r,display:a}=Bt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+s)&&!wr.has(a)}function jr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nr=new Set(["html","body","#document"]);function Cr(t){return Nr.has(nn(t))}function Bt(t){return Se(t).getComputedStyle(t)}function Pr(t){if(nn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||la(t)&&t.host||sn(t);return la(e)?e.host:e}function ln(t){const e=Pr(t);return Cr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ut(e)&&on(e)?e:ln(e)}function st(t,e,s){var r;e===void 0&&(e=[]),s===void 0&&(s=!0);const a=ln(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=Se(a);if(i){const c=Et(l);return e.concat(l,l.visualViewport||[],on(a)?a:[],c&&s?st(c):[])}return e.concat(a,st(a,[],s))}function Et(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kr(t){const e=Bt(t);let s=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=Ut(t),i=a?t.offsetWidth:s,l=a?t.offsetHeight:r,c=at(s)!==i||at(r)!==l;return c&&(s=i,r=l),{width:s,height:r,$:c}}function Ht(t){return Sr(t)?t:t.contextElement}function ca(t){const e=Ht(t);if(!Ut(e))return nt(1);const s=e.getBoundingClientRect(),{width:r,height:a,$:i}=kr(e);let l=(i?at(s.width):s.width)/r,c=(i?at(s.height):s.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Or=nt(0);function Mr(t){const e=Se(t);return!jr()||!e.visualViewport?Or:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _r(t,e,s){return!1}function ua(t,e,s,r){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),i=Ht(t);let l=nt(1);e&&(l=ca(t));const c=_r()?Mr(i):nt(0);let o=(a.left+c.x)/l.x,u=(a.top+c.y)/l.y,d=a.width/l.x,m=a.height/l.y;if(i){const p=Se(i),g=r;let v=p,y=Et(v);for(;y&&r&&g!==v;){const h=ca(y),x=y.getBoundingClientRect(),b=Bt(y),N=x.left+(y.clientLeft+parseFloat(b.paddingLeft))*h.x,O=x.top+(y.clientTop+parseFloat(b.paddingTop))*h.y;o*=h.x,u*=h.y,d*=h.x,m*=h.y,o+=N,u+=O,v=Se(y),y=Et(v)}}return yr({width:d,height:m,x:o,y:u})}function cn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Tr(t,e){let s=null,r;const a=sn(t);function i(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function l(c,o){c===void 0&&(c=!1),o===void 0&&(o=1),i();const u=t.getBoundingClientRect(),{left:d,top:m,width:p,height:g}=u;if(c||e(),!p||!g)return;const v=He(m),y=He(a.clientWidth-(d+p)),h=He(a.clientHeight-(m+g)),x=He(d),N={rootMargin:-v+"px "+-y+"px "+-h+"px "+-x+"px",threshold:xr(0,br(1,o))||1};let O=!0;function w(C){const P=C[0].intersectionRatio;if(P!==o){if(!O)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!cn(u,t.getBoundingClientRect())&&l(),O=!1}try{s=new IntersectionObserver(w,{...N,root:a.ownerDocument})}catch{s=new IntersectionObserver(w,N)}s.observe(t)}return l(!0),i}function Er(t,e,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:o=!1}=r,u=Ht(t),d=a||i?[...u?st(u):[],...st(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",s,{passive:!0}),i&&x.addEventListener("resize",s)});const m=u&&c?Tr(u,s):null;let p=-1,g=null;l&&(g=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),s()}),u&&!o&&g.observe(u),g.observe(e));let v,y=o?ua(t):null;o&&h();function h(){const x=ua(t);y&&!cn(y,x)&&s(),y=x,v=requestAnimationFrame(h)}return s(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",s),i&&b.removeEventListener("resize",s)}),m?.(),(x=g)==null||x.disconnect(),g=null,o&&cancelAnimationFrame(v)}}var It=f.useLayoutEffect,Ir=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rt=function(){};function Ar(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Rr(t,e){for(var s=arguments.length,r=new Array(s>2?s-2:0),a=2;a<s;a++)r[a-2]=arguments[a];var i=[].concat(r);if(e&&t)for(var l in e)e.hasOwnProperty(l)&&e[l]&&i.push("".concat(Ar(t,l)));return i.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var da=function(e){return zr(e)?e.filter(Boolean):Ce(e)==="object"&&e!==null?[e]:[]},un=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var s=Ne(e,Ir);return R({},s)},J=function(e,s,r){var a=e.cx,i=e.getStyles,l=e.getClassNames,c=e.className;return{css:i(s,e),className:a(r??{},l(s,e),c)}};function pt(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Fr(t){return pt(t)?window.innerHeight:t.clientHeight}function dn(t){return pt(t)?window.pageYOffset:t.scrollTop}function it(t,e){if(pt(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Lr(t){var e=getComputedStyle(t),s=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(s&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function Vr(t,e,s,r){return s*((t=t/r-1)*t*t+1)+e}function ze(t,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:rt,a=dn(t),i=e-a,l=10,c=0;function o(){c+=l;var u=Vr(c,a,i,s);it(t,u),c<s?window.requestAnimationFrame(o):r(t)}o()}function ma(t,e){var s=t.getBoundingClientRect(),r=e.getBoundingClientRect(),a=e.offsetHeight/3;r.bottom+a>s.bottom?it(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):r.top-a<s.top&&it(t,Math.max(e.offsetTop-a,0))}function Dr(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function fa(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function $r(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var mn=!1,Ur={get passive(){return mn=!0}},Ge=typeof window<"u"?window:{};Ge.addEventListener&&Ge.removeEventListener&&(Ge.addEventListener("p",rt,Ur),Ge.removeEventListener("p",rt,!1));var Br=mn;function Hr(t){return t!=null}function zr(t){return Array.isArray(t)}function We(t,e,s){return t?e:s}var Gr=function(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];var i=Object.entries(e).filter(function(l){var c=xe(l,1),o=c[0];return!r.includes(o)});return i.reduce(function(l,c){var o=xe(c,2),u=o[0],d=o[1];return l[u]=d,l},{})},Wr=["children","innerProps"],qr=["children","innerProps"];function Yr(t){var e=t.maxHeight,s=t.menuEl,r=t.minHeight,a=t.placement,i=t.shouldScroll,l=t.isFixedPosition,c=t.controlHeight,o=Lr(s),u={placement:"bottom",maxHeight:e};if(!s||!s.offsetParent)return u;var d=o.getBoundingClientRect(),m=d.height,p=s.getBoundingClientRect(),g=p.bottom,v=p.height,y=p.top,h=s.offsetParent.getBoundingClientRect(),x=h.top,b=l?window.innerHeight:Fr(o),N=dn(o),O=parseInt(getComputedStyle(s).marginBottom,10),w=parseInt(getComputedStyle(s).marginTop,10),C=x-w,P=b-y,T=C+N,M=m-N-y,H=g-b+N+O,K=N+y-w,q=160;switch(a){case"auto":case"bottom":if(P>=v)return{placement:"bottom",maxHeight:e};if(M>=v&&!l)return i&&ze(o,H,q),{placement:"bottom",maxHeight:e};if(!l&&M>=r||l&&P>=r){i&&ze(o,H,q);var Z=l?P-O:M-O;return{placement:"bottom",maxHeight:Z}}if(a==="auto"||l){var Q=e,W=l?C:T;return W>=r&&(Q=Math.min(W-O-c,e)),{placement:"top",maxHeight:Q}}if(a==="bottom")return i&&it(o,H),{placement:"bottom",maxHeight:e};break;case"top":if(C>=v)return{placement:"top",maxHeight:e};if(T>=v&&!l)return i&&ze(o,K,q),{placement:"top",maxHeight:e};if(!l&&T>=r||l&&C>=r){var L=e;return(!l&&T>=r||l&&C>=r)&&(L=l?C-w:T-w),i&&ze(o,K,q),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Kr(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var fn=function(e){return e==="auto"?"bottom":e},Xr=function(e,s){var r,a=e.placement,i=e.theme,l=i.borderRadius,c=i.spacing,o=i.colors;return R((r={label:"menu"},Ie(r,Kr(a),"100%"),Ie(r,"position","absolute"),Ie(r,"width","100%"),Ie(r,"zIndex",1),r),s?{}:{backgroundColor:o.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},pn=f.createContext(null),Jr=function(e){var s=e.children,r=e.minMenuHeight,a=e.maxMenuHeight,i=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,o=e.theme,u=f.useContext(pn)||{},d=u.setPortalPlacement,m=f.useRef(null),p=f.useState(a),g=xe(p,2),v=g[0],y=g[1],h=f.useState(null),x=xe(h,2),b=x[0],N=x[1],O=o.spacing.controlHeight;return It(function(){var w=m.current;if(w){var C=l==="fixed",P=c&&!C,T=Yr({maxHeight:a,menuEl:w,minHeight:r,placement:i,shouldScroll:P,isFixedPosition:C,controlHeight:O});y(T.maxHeight),N(T.placement),d?.(T.placement)}},[a,i,l,c,r,d,O]),s({ref:m,placerProps:R(R({},e),{},{placement:b||fn(i),maxHeight:v})})},Zr=function(e){var s=e.children,r=e.innerRef,a=e.innerProps;return I("div",F({},J(e,"menu",{menu:!0}),{ref:r},a),s)},Qr=Zr,ei=function(e,s){var r=e.maxHeight,a=e.theme.spacing.baseUnit;return R({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},s?{}:{paddingBottom:a,paddingTop:a})},ti=function(e){var s=e.children,r=e.innerProps,a=e.innerRef,i=e.isMulti;return I("div",F({},J(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:a},r),s)},gn=function(e,s){var r=e.theme,a=r.spacing.baseUnit,i=r.colors;return R({textAlign:"center"},s?{}:{color:i.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},ai=gn,ni=gn,si=function(e){var s=e.children,r=s===void 0?"No options":s,a=e.innerProps,i=Ne(e,Wr);return I("div",F({},J(R(R({},i),{},{children:r,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),r)},ri=function(e){var s=e.children,r=s===void 0?"Loading...":s,a=e.innerProps,i=Ne(e,qr);return I("div",F({},J(R(R({},i),{},{children:r,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),r)},ii=function(e){var s=e.rect,r=e.offset,a=e.position;return{left:s.left,position:a,top:r,width:s.width,zIndex:1}},oi=function(e){var s=e.appendTo,r=e.children,a=e.controlElement,i=e.innerProps,l=e.menuPlacement,c=e.menuPosition,o=f.useRef(null),u=f.useRef(null),d=f.useState(fn(l)),m=xe(d,2),p=m[0],g=m[1],v=f.useMemo(function(){return{setPortalPlacement:g}},[]),y=f.useState(null),h=xe(y,2),x=h[0],b=h[1],N=f.useCallback(function(){if(a){var P=Dr(a),T=c==="fixed"?0:window.pageYOffset,M=P[p]+T;(M!==x?.offset||P.left!==x?.rect.left||P.width!==x?.rect.width)&&b({offset:M,rect:P})}},[a,c,p,x?.offset,x?.rect.left,x?.rect.width]);It(function(){N()},[N]);var O=f.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&o.current&&(u.current=Er(a,o.current,N,{elementResize:"ResizeObserver"in window}))},[a,N]);It(function(){O()},[O]);var w=f.useCallback(function(P){o.current=P,O()},[O]);if(!s&&c!=="fixed"||!x)return null;var C=I("div",F({ref:w},J(R(R({},e),{},{offset:x.offset,position:c,rect:x.rect}),"menuPortal",{"menu-portal":!0}),i),r);return I(pn.Provider,{value:v},s?En.createPortal(C,s):C)},li=function(e){var s=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:s?"none":void 0,position:"relative"}},ci=function(e){var s=e.children,r=e.innerProps,a=e.isDisabled,i=e.isRtl;return I("div",F({},J(e,"container",{"--is-disabled":a,"--is-rtl":i}),r),s)},ui=function(e,s){var r=e.theme.spacing,a=e.isMulti,i=e.hasValue,l=e.selectProps.controlShouldRenderValue;return R({alignItems:"center",display:a&&i&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},s?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},di=function(e){var s=e.children,r=e.innerProps,a=e.isMulti,i=e.hasValue;return I("div",F({},J(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":i}),r),s)},mi=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},fi=function(e){var s=e.children,r=e.innerProps;return I("div",F({},J(e,"indicatorsContainer",{indicators:!0}),r),s)},pa,pi=["size"],gi=["innerProps","isRtl","size"],hi={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},hn=function(e){var s=e.size,r=Ne(e,pi);return I("svg",F({height:s,width:s,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:hi},r))},zt=function(e){return I(hn,F({size:20},e),I("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},vn=function(e){return I(hn,F({size:20},e),I("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},bn=function(e,s){var r=e.isFocused,a=e.theme,i=a.spacing.baseUnit,l=a.colors;return R({label:"indicatorContainer",display:"flex",transition:"color 150ms"},s?{}:{color:r?l.neutral60:l.neutral20,padding:i*2,":hover":{color:r?l.neutral80:l.neutral40}})},vi=bn,bi=function(e){var s=e.children,r=e.innerProps;return I("div",F({},J(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),s||I(vn,null))},xi=bn,yi=function(e){var s=e.children,r=e.innerProps;return I("div",F({},J(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),s||I(zt,null))},Si=function(e,s){var r=e.isDisabled,a=e.theme,i=a.spacing.baseUnit,l=a.colors;return R({label:"indicatorSeparator",alignSelf:"stretch",width:1},s?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:i*2,marginTop:i*2})},wi=function(e){var s=e.innerProps;return I("span",F({},s,J(e,"indicatorSeparator",{"indicator-separator":!0})))},ji=hr(pa||(pa=vr([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Ni=function(e,s){var r=e.isFocused,a=e.size,i=e.theme,l=i.colors,c=i.spacing.baseUnit;return R({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},s?{}:{color:r?l.neutral60:l.neutral20,padding:c*2})},xt=function(e){var s=e.delay,r=e.offset;return I("span",{css:$t({animation:"".concat(ji," 1s ease-in-out ").concat(s,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Ci=function(e){var s=e.innerProps,r=e.isRtl,a=e.size,i=a===void 0?4:a,l=Ne(e,gi);return I("div",F({},J(R(R({},l),{},{innerProps:s,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),s),I(xt,{delay:0,offset:r}),I(xt,{delay:160,offset:!0}),I(xt,{delay:320,offset:!r}))},Pi=function(e,s){var r=e.isDisabled,a=e.isFocused,i=e.theme,l=i.colors,c=i.borderRadius,o=i.spacing;return R({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},s?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:a?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:a?l.primary:l.neutral30}})},ki=function(e){var s=e.children,r=e.isDisabled,a=e.isFocused,i=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return I("div",F({ref:i},J(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":a,"control--menu-is-open":c}),l,{"aria-disabled":r||void 0}),s)},Oi=ki,Mi=["data"],_i=function(e,s){var r=e.theme.spacing;return s?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Ti=function(e){var s=e.children,r=e.cx,a=e.getStyles,i=e.getClassNames,l=e.Heading,c=e.headingProps,o=e.innerProps,u=e.label,d=e.theme,m=e.selectProps;return I("div",F({},J(e,"group",{group:!0}),o),I(l,F({},c,{selectProps:m,theme:d,getStyles:a,getClassNames:i,cx:r}),u),I("div",null,s))},Ei=function(e,s){var r=e.theme,a=r.colors,i=r.spacing;return R({label:"group",cursor:"default",display:"block"},s?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Ii=function(e){var s=un(e);s.data;var r=Ne(s,Mi);return I("div",F({},J(e,"groupHeading",{"group-heading":!0}),r))},Ai=Ti,Ri=["innerRef","isDisabled","isHidden","inputClassName"],Fi=function(e,s){var r=e.isDisabled,a=e.value,i=e.theme,l=i.spacing,c=i.colors;return R(R({visibility:r?"hidden":"visible",transform:a?"translateZ(0)":""},Li),s?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},xn={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Li={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":R({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},xn)},Vi=function(e){return R({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},xn)},Di=function(e){var s=e.cx,r=e.value,a=un(e),i=a.innerRef,l=a.isDisabled,c=a.isHidden,o=a.inputClassName,u=Ne(a,Ri);return I("div",F({},J(e,"input",{"input-container":!0}),{"data-value":r||""}),I("input",F({className:s({input:!0},o),ref:i,style:Vi(c),disabled:l},u)))},$i=Di,Ui=function(e,s){var r=e.theme,a=r.spacing,i=r.borderRadius,l=r.colors;return R({label:"multiValue",display:"flex",minWidth:0},s?{}:{backgroundColor:l.neutral10,borderRadius:i/2,margin:a.baseUnit/2})},Bi=function(e,s){var r=e.theme,a=r.borderRadius,i=r.colors,l=e.cropWithEllipsis;return R({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},s?{}:{borderRadius:a/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Hi=function(e,s){var r=e.theme,a=r.spacing,i=r.borderRadius,l=r.colors,c=e.isFocused;return R({alignItems:"center",display:"flex"},s?{}:{borderRadius:i/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},yn=function(e){var s=e.children,r=e.innerProps;return I("div",r,s)},zi=yn,Gi=yn;function Wi(t){var e=t.children,s=t.innerProps;return I("div",F({role:"button"},s),e||I(zt,{size:14}))}var qi=function(e){var s=e.children,r=e.components,a=e.data,i=e.innerProps,l=e.isDisabled,c=e.removeProps,o=e.selectProps,u=r.Container,d=r.Label,m=r.Remove;return I(u,{data:a,innerProps:R(R({},J(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),i),selectProps:o},I(d,{data:a,innerProps:R({},J(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},s),I(m,{data:a,innerProps:R(R({},J(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(s||"option")},c),selectProps:o}))},Yi=qi,Ki=function(e,s){var r=e.isDisabled,a=e.isFocused,i=e.isSelected,l=e.theme,c=l.spacing,o=l.colors;return R({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},s?{}:{backgroundColor:i?o.primary:a?o.primary25:"transparent",color:r?o.neutral20:i?o.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?o.primary:o.primary50}})},Xi=function(e){var s=e.children,r=e.isDisabled,a=e.isFocused,i=e.isSelected,l=e.innerRef,c=e.innerProps;return I("div",F({},J(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":a,"option--is-selected":i}),{ref:l,"aria-disabled":r},c),s)},Ji=Xi,Zi=function(e,s){var r=e.theme,a=r.spacing,i=r.colors;return R({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},s?{}:{color:i.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Qi=function(e){var s=e.children,r=e.innerProps;return I("div",F({},J(e,"placeholder",{placeholder:!0}),r),s)},eo=Qi,to=function(e,s){var r=e.isDisabled,a=e.theme,i=a.spacing,l=a.colors;return R({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},s?{}:{color:r?l.neutral40:l.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},ao=function(e){var s=e.children,r=e.isDisabled,a=e.innerProps;return I("div",F({},J(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),a),s)},no=ao,so={ClearIndicator:yi,Control:Oi,DropdownIndicator:bi,DownChevron:vn,CrossIcon:zt,Group:Ai,GroupHeading:Ii,IndicatorsContainer:fi,IndicatorSeparator:wi,Input:$i,LoadingIndicator:Ci,Menu:Qr,MenuList:ti,MenuPortal:oi,LoadingMessage:ri,NoOptionsMessage:si,MultiValue:Yi,MultiValueContainer:zi,MultiValueLabel:Gi,MultiValueRemove:Wi,Option:Ji,Placeholder:eo,SelectContainer:ci,SingleValue:no,ValueContainer:di},ro=function(e){return R(R({},so),e.components)},ga=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function io(t,e){return!!(t===e||ga(t)&&ga(e))}function oo(t,e){if(t.length!==e.length)return!1;for(var s=0;s<t.length;s++)if(!io(t[s],e[s]))return!1;return!0}function lo(t,e){e===void 0&&(e=oo);var s=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(s&&s.lastThis===this&&e(a,s.lastArgs))return s.lastResult;var l=t.apply(this,a);return s={lastResult:l,lastArgs:a,lastThis:this},l}return r.clear=function(){s=null},r}var co={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},uo=function(e){return I("span",F({css:co},e))},ha=uo,mo={guidance:function(e){var s=e.isSearchable,r=e.isMulti,a=e.tabSelectsValue,i=e.context,l=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(s?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var s=e.action,r=e.label,a=r===void 0?"":r,i=e.labels,l=e.isDisabled;switch(s){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return l?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var s=e.context,r=e.focused,a=e.options,i=e.label,l=i===void 0?"":i,c=e.selectValue,o=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,m=function(y,h){return y&&y.length?"".concat(y.indexOf(h)+1," of ").concat(y.length):""};if(s==="value"&&c)return"value ".concat(l," focused, ").concat(m(c,r),".");if(s==="menu"&&d){var p=o?" disabled":"",g="".concat(u?" selected":"").concat(p);return"".concat(l).concat(g,", ").concat(m(a,r),".")}return""},onFilter:function(e){var s=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(s?" for search term "+s:"",".")}},fo=function(e){var s=e.ariaSelection,r=e.focusedOption,a=e.focusedValue,i=e.focusableOptions,l=e.isFocused,c=e.selectValue,o=e.selectProps,u=e.id,d=e.isAppleDevice,m=o.ariaLiveMessages,p=o.getOptionLabel,g=o.inputValue,v=o.isMulti,y=o.isOptionDisabled,h=o.isSearchable,x=o.menuIsOpen,b=o.options,N=o.screenReaderStatus,O=o.tabSelectsValue,w=o.isLoading,C=o["aria-label"],P=o["aria-live"],T=f.useMemo(function(){return R(R({},mo),m||{})},[m]),M=f.useMemo(function(){var W="";if(s&&T.onChange){var L=s.option,E=s.options,A=s.removedValue,V=s.removedValues,G=s.value,ne=function(S){return Array.isArray(S)?null:S},D=A||L||ne(G),se=D?p(D):"",le=E||V||void 0,ce=le?le.map(p):[],ae=R({isDisabled:D&&y(D,c),label:se,labels:ce},s);W=T.onChange(ae)}return W},[s,T,y,c,p]),H=f.useMemo(function(){var W="",L=r||a,E=!!(r&&c&&c.includes(r));if(L&&T.onFocus){var A={focused:L,label:p(L),isDisabled:y(L,c),isSelected:E,options:i,context:L===r?"menu":"value",selectValue:c,isAppleDevice:d};W=T.onFocus(A)}return W},[r,a,p,y,T,i,c,d]),K=f.useMemo(function(){var W="";if(x&&b.length&&!w&&T.onFilter){var L=N({count:i.length});W=T.onFilter({inputValue:g,resultsMessage:L})}return W},[i,g,x,T,b,N,w]),q=s?.action==="initial-input-focus",Z=f.useMemo(function(){var W="";if(T.guidance){var L=a?"value":x?"menu":"input";W=T.guidance({"aria-label":C,context:L,isDisabled:r&&y(r,c),isMulti:v,isSearchable:h,tabSelectsValue:O,isInitialFocus:q})}return W},[C,r,a,v,y,h,x,T,c,O,q]),Q=I(f.Fragment,null,I("span",{id:"aria-selection"},M),I("span",{id:"aria-focused"},H),I("span",{id:"aria-results"},K),I("span",{id:"aria-guidance"},Z));return I(f.Fragment,null,I(ha,{id:u},q&&Q),I(ha,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!q&&Q))},po=fo,At=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],go=new RegExp("["+At.map(function(t){return t.letters}).join("")+"]","g"),Sn={};for(var yt=0;yt<At.length;yt++)for(var St=At[yt],wt=0;wt<St.letters.length;wt++)Sn[St.letters[wt]]=St.base;var wn=function(e){return e.replace(go,function(s){return Sn[s]})},ho=lo(wn),va=function(e){return e.replace(/^\s+|\s+$/g,"")},vo=function(e){return"".concat(e.label," ").concat(e.value)},bo=function(e){return function(s,r){if(s.data.__isNew__)return!0;var a=R({ignoreCase:!0,ignoreAccents:!0,stringify:vo,trim:!0,matchFrom:"any"},e),i=a.ignoreCase,l=a.ignoreAccents,c=a.stringify,o=a.trim,u=a.matchFrom,d=o?va(r):r,m=o?va(c(s)):c(s);return i&&(d=d.toLowerCase(),m=m.toLowerCase()),l&&(d=ho(d),m=wn(m)),u==="start"?m.substr(0,d.length)===d:m.indexOf(d)>-1}},xo=["innerRef"];function yo(t){var e=t.innerRef,s=Ne(t,xo),r=Gr(s,"onExited","in","enter","exit","appear");return I("input",F({ref:e},r,{css:$t({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var So=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function wo(t){var e=t.isEnabled,s=t.onBottomArrive,r=t.onBottomLeave,a=t.onTopArrive,i=t.onTopLeave,l=f.useRef(!1),c=f.useRef(!1),o=f.useRef(0),u=f.useRef(null),d=f.useCallback(function(h,x){if(u.current!==null){var b=u.current,N=b.scrollTop,O=b.scrollHeight,w=b.clientHeight,C=u.current,P=x>0,T=O-w-N,M=!1;T>x&&l.current&&(r&&r(h),l.current=!1),P&&c.current&&(i&&i(h),c.current=!1),P&&x>T?(s&&!l.current&&s(h),C.scrollTop=O,M=!0,l.current=!0):!P&&-x>N&&(a&&!c.current&&a(h),C.scrollTop=0,M=!0,c.current=!0),M&&So(h)}},[s,r,a,i]),m=f.useCallback(function(h){d(h,h.deltaY)},[d]),p=f.useCallback(function(h){o.current=h.changedTouches[0].clientY},[]),g=f.useCallback(function(h){var x=o.current-h.changedTouches[0].clientY;d(h,x)},[d]),v=f.useCallback(function(h){if(h){var x=Br?{passive:!1}:!1;h.addEventListener("wheel",m,x),h.addEventListener("touchstart",p,x),h.addEventListener("touchmove",g,x)}},[g,p,m]),y=f.useCallback(function(h){h&&(h.removeEventListener("wheel",m,!1),h.removeEventListener("touchstart",p,!1),h.removeEventListener("touchmove",g,!1))},[g,p,m]);return f.useEffect(function(){if(e){var h=u.current;return v(h),function(){y(h)}}},[e,v,y]),function(h){u.current=h}}var ba=["boxSizing","height","overflow","paddingRight","position"],xa={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ya(t){t.cancelable&&t.preventDefault()}function Sa(t){t.stopPropagation()}function wa(){var t=this.scrollTop,e=this.scrollHeight,s=t+this.offsetHeight;t===0?this.scrollTop=1:s===e&&(this.scrollTop=t-1)}function ja(){return"ontouchstart"in window||navigator.maxTouchPoints}var Na=!!(typeof window<"u"&&window.document&&window.document.createElement),Ee=0,Pe={capture:!1,passive:!1};function jo(t){var e=t.isEnabled,s=t.accountForScrollbars,r=s===void 0?!0:s,a=f.useRef({}),i=f.useRef(null),l=f.useCallback(function(o){if(Na){var u=document.body,d=u&&u.style;if(r&&ba.forEach(function(v){var y=d&&d[v];a.current[v]=y}),r&&Ee<1){var m=parseInt(a.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+m||0;Object.keys(xa).forEach(function(v){var y=xa[v];d&&(d[v]=y)}),d&&(d.paddingRight="".concat(g,"px"))}u&&ja()&&(u.addEventListener("touchmove",ya,Pe),o&&(o.addEventListener("touchstart",wa,Pe),o.addEventListener("touchmove",Sa,Pe))),Ee+=1}},[r]),c=f.useCallback(function(o){if(Na){var u=document.body,d=u&&u.style;Ee=Math.max(Ee-1,0),r&&Ee<1&&ba.forEach(function(m){var p=a.current[m];d&&(d[m]=p)}),u&&ja()&&(u.removeEventListener("touchmove",ya,Pe),o&&(o.removeEventListener("touchstart",wa,Pe),o.removeEventListener("touchmove",Sa,Pe)))}},[r]);return f.useEffect(function(){if(e){var o=i.current;return l(o),function(){c(o)}}},[e,l,c]),function(o){i.current=o}}var No=function(e){var s=e.target;return s.ownerDocument.activeElement&&s.ownerDocument.activeElement.blur()},Co={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Po(t){var e=t.children,s=t.lockEnabled,r=t.captureEnabled,a=r===void 0?!0:r,i=t.onBottomArrive,l=t.onBottomLeave,c=t.onTopArrive,o=t.onTopLeave,u=wo({isEnabled:a,onBottomArrive:i,onBottomLeave:l,onTopArrive:c,onTopLeave:o}),d=jo({isEnabled:s}),m=function(g){u(g),d(g)};return I(f.Fragment,null,s&&I("div",{onClick:No,css:Co}),e(m))}var ko={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Oo=function(e){var s=e.name,r=e.onFocus;return I("input",{required:!0,name:s,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:ko,value:"",onChange:function(){}})},Mo=Oo;function Gt(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function _o(){return Gt(/^iPhone/i)}function jn(){return Gt(/^Mac/i)}function To(){return Gt(/^iPad/i)||jn()&&navigator.maxTouchPoints>1}function Eo(){return _o()||To()}function Io(){return jn()||Eo()}var Ao=function(e){return e.label},Ro=function(e){return e.label},Fo=function(e){return e.value},Lo=function(e){return!!e.isDisabled},Vo={clearIndicator:xi,container:li,control:Pi,dropdownIndicator:vi,group:_i,groupHeading:Ei,indicatorsContainer:mi,indicatorSeparator:Si,input:Fi,loadingIndicator:Ni,loadingMessage:ni,menu:Xr,menuList:ei,menuPortal:ii,multiValue:Ui,multiValueLabel:Bi,multiValueRemove:Hi,noOptionsMessage:ai,option:Ki,placeholder:Zi,singleValue:to,valueContainer:ui},Do={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},$o=4,Nn=4,Uo=38,Bo=Nn*2,Ho={baseUnit:Nn,controlHeight:Uo,menuGutter:Bo},jt={borderRadius:$o,colors:Do,spacing:Ho},zo={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:fa(),captureMenuScroll:!fa(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:bo(),formatGroupLabel:Ao,getOptionLabel:Ro,getOptionValue:Fo,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Lo,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!$r(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var s=e.count;return"".concat(s," result").concat(s!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ca(t,e,s,r){var a=kn(t,e,s),i=On(t,e,s),l=Pn(t,e),c=ot(t,e);return{type:"option",data:e,isDisabled:a,isSelected:i,label:l,value:c,index:r}}function Qe(t,e){return t.options.map(function(s,r){if("options"in s){var a=s.options.map(function(l,c){return Ca(t,l,e,c)}).filter(function(l){return ka(t,l)});return a.length>0?{type:"group",data:s,options:a,index:r}:void 0}var i=Ca(t,s,e,r);return ka(t,i)?i:void 0}).filter(Hr)}function Cn(t){return t.reduce(function(e,s){return s.type==="group"?e.push.apply(e,Rt(s.options.map(function(r){return r.data}))):e.push(s.data),e},[])}function Pa(t,e){return t.reduce(function(s,r){return r.type==="group"?s.push.apply(s,Rt(r.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(r.index,"-").concat(a.index)}}))):s.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),s},[])}function Go(t,e){return Cn(Qe(t,e))}function ka(t,e){var s=t.inputValue,r=s===void 0?"":s,a=e.data,i=e.isSelected,l=e.label,c=e.value;return(!_n(t)||!i)&&Mn(t,{label:l,value:c,data:a},r)}function Wo(t,e){var s=t.focusedValue,r=t.selectValue,a=r.indexOf(s);if(a>-1){var i=e.indexOf(s);if(i>-1)return s;if(a<e.length)return e[a]}return null}function qo(t,e){var s=t.focusedOption;return s&&e.indexOf(s)>-1?s:e[0]}var Nt=function(e,s){var r,a=(r=e.find(function(i){return i.data===s}))===null||r===void 0?void 0:r.id;return a||null},Pn=function(e,s){return e.getOptionLabel(s)},ot=function(e,s){return e.getOptionValue(s)};function kn(t,e,s){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,s):!1}function On(t,e,s){if(s.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,s);var r=ot(t,e);return s.some(function(a){return ot(t,a)===r})}function Mn(t,e,s){return t.filterOption?t.filterOption(e,s):!0}var _n=function(e){var s=e.hideSelectedOptions,r=e.isMulti;return s===void 0?r:s},Yo=1,Tn=(function(t){fs(s,t);var e=hs(s);function s(r){var a;if(ds(this,s),a=e.call(this,r),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(o){a.controlRef=o},a.focusedOptionRef=null,a.getFocusedOptionRef=function(o){a.focusedOptionRef=o},a.menuListRef=null,a.getMenuListRef=function(o){a.menuListRef=o},a.inputRef=null,a.getInputRef=function(o){a.inputRef=o},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(o,u){var d=a.props,m=d.onChange,p=d.name;u.name=p,a.ariaOnChange(o,u),m(o,u)},a.setValue=function(o,u,d){var m=a.props,p=m.closeMenuOnSelect,g=m.isMulti,v=m.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:v}),p&&(a.setState({inputIsHiddenAfterUpdate:!g}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(o,{action:u,option:d})},a.selectOption=function(o){var u=a.props,d=u.blurInputOnSelect,m=u.isMulti,p=u.name,g=a.state.selectValue,v=m&&a.isOptionSelected(o,g),y=a.isOptionDisabled(o,g);if(v){var h=a.getOptionValue(o);a.setValue(g.filter(function(x){return a.getOptionValue(x)!==h}),"deselect-option",o)}else if(!y)m?a.setValue([].concat(Rt(g),[o]),"select-option",o):a.setValue(o,"select-option");else{a.ariaOnChange(o,{action:"select-option",option:o,name:p});return}d&&a.blurInput()},a.removeValue=function(o){var u=a.props.isMulti,d=a.state.selectValue,m=a.getOptionValue(o),p=d.filter(function(v){return a.getOptionValue(v)!==m}),g=We(u,p,p[0]||null);a.onChange(g,{action:"remove-value",removedValue:o}),a.focusInput()},a.clearValue=function(){var o=a.state.selectValue;a.onChange(We(a.props.isMulti,[],null),{action:"clear",removedValues:o})},a.popValue=function(){var o=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],m=u.slice(0,u.length-1),p=We(o,m,m[0]||null);d&&a.onChange(p,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(o){return Nt(a.state.focusableOptionsWithIds,o)},a.getFocusableOptionsWithIds=function(){return Pa(Qe(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];return Rr.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(o){return Pn(a.props,o)},a.getOptionValue=function(o){return ot(a.props,o)},a.getStyles=function(o,u){var d=a.props.unstyled,m=Vo[o](u,d);m.boxSizing="border-box";var p=a.props.styles[o];return p?p(m,u):m},a.getClassNames=function(o,u){var d,m;return(d=(m=a.props.classNames)[o])===null||d===void 0?void 0:d.call(m,u)},a.getElementId=function(o){return"".concat(a.state.instancePrefix,"-").concat(o)},a.getComponents=function(){return ro(a.props)},a.buildCategorizedOptions=function(){return Qe(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return Cn(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(o,u){a.setState({ariaSelection:R({value:o},u)})},a.onMenuMouseDown=function(o){o.button===0&&(o.stopPropagation(),o.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(o){a.blockOptionHover=!1},a.onControlMouseDown=function(o){if(!o.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?o.target.tagName!=="INPUT"&&o.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),o.target.tagName!=="INPUT"&&o.target.tagName!=="TEXTAREA"&&o.preventDefault()}},a.onDropdownIndicatorMouseDown=function(o){if(!(o&&o.type==="mousedown"&&o.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,m=u.menuIsOpen;a.focusInput(),m?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),o.preventDefault()}},a.onClearIndicatorMouseDown=function(o){o&&o.type==="mousedown"&&o.button!==0||(a.clearValue(),o.preventDefault(),a.openAfterFocus=!1,o.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(o){typeof a.props.closeMenuOnScroll=="boolean"?o.target instanceof HTMLElement&&pt(o.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(o)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(o){var u=o.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(o){var u=o.touches,d=u&&u.item(0);if(d){var m=Math.abs(d.clientX-a.initialTouchX),p=Math.abs(d.clientY-a.initialTouchY),g=5;a.userIsDragging=m>g||p>g}},a.onTouchEnd=function(o){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(o.target)&&a.menuListRef&&!a.menuListRef.contains(o.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(o){a.userIsDragging||a.onControlMouseDown(o)},a.onClearIndicatorTouchEnd=function(o){a.userIsDragging||a.onClearIndicatorMouseDown(o)},a.onDropdownIndicatorTouchEnd=function(o){a.userIsDragging||a.onDropdownIndicatorMouseDown(o)},a.handleInputChange=function(o){var u=a.props.inputValue,d=o.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(o){a.props.onFocus&&a.props.onFocus(o),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(o){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(o),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(o){if(!(a.blockOptionHover||a.state.focusedOption===o)){var u=a.getFocusableOptions(),d=u.indexOf(o);a.setState({focusedOption:o,focusedOptionId:d>-1?a.getFocusedOptionId(o):null})}},a.shouldHideSelectedOptions=function(){return _n(a.props)},a.onValueInputFocus=function(o){o.preventDefault(),o.stopPropagation(),a.focus()},a.onKeyDown=function(o){var u=a.props,d=u.isMulti,m=u.backspaceRemovesValue,p=u.escapeClearsValue,g=u.inputValue,v=u.isClearable,y=u.isDisabled,h=u.menuIsOpen,x=u.onKeyDown,b=u.tabSelectsValue,N=u.openMenuOnFocus,O=a.state,w=O.focusedOption,C=O.focusedValue,P=O.selectValue;if(!y&&!(typeof x=="function"&&(x(o),o.defaultPrevented))){switch(a.blockOptionHover=!0,o.key){case"ArrowLeft":if(!d||g)return;a.focusValue("previous");break;case"ArrowRight":if(!d||g)return;a.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(C)a.removeValue(C);else{if(!m)return;d?a.popValue():v&&a.clearValue()}break;case"Tab":if(a.isComposing||o.shiftKey||!h||!b||!w||N&&a.isOptionSelected(w,P))return;a.selectOption(w);break;case"Enter":if(o.keyCode===229)break;if(h){if(!w||a.isComposing)return;a.selectOption(w);break}return;case"Escape":h?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:g}),a.onMenuClose()):v&&p&&a.clearValue();break;case" ":if(g)return;if(!h){a.openMenu("first");break}if(!w)return;a.selectOption(w);break;case"ArrowUp":h?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":h?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!h)return;a.focusOption("pageup");break;case"PageDown":if(!h)return;a.focusOption("pagedown");break;case"Home":if(!h)return;a.focusOption("first");break;case"End":if(!h)return;a.focusOption("last");break;default:return}o.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Yo),a.state.selectValue=da(r.value),r.menuIsOpen&&a.state.selectValue.length){var i=a.getFocusableOptionsWithIds(),l=a.buildFocusableOptions(),c=l.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=i,a.state.focusedOption=l[c],a.state.focusedOptionId=Nt(i,l[c])}return a}return ms(s,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ma(this.menuListRef,this.focusedOptionRef),Io()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var i=this.props,l=i.isDisabled,c=i.menuIsOpen,o=this.state.isFocused;(o&&!l&&a.isDisabled||o&&c&&!a.menuIsOpen)&&this.focusInput(),o&&l&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!o&&!l&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ma(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,i){this.props.onInputChange(a,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var i=this,l=this.state,c=l.selectValue,o=l.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var m=u.indexOf(c[0]);m>-1&&(d=m)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(a){var i=this.state,l=i.selectValue,c=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=l.indexOf(c);c||(o=-1);var u=l.length-1,d=-1;if(l.length){switch(a){case"previous":o===0?d=0:o===-1?d=u:d=o-1;break;case"next":o>-1&&o<u&&(d=o+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:l[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var o=0,u=c.indexOf(l);l||(u=-1),a==="up"?o=u>0?u-1:c.length-1:a==="down"?o=(u+1)%c.length:a==="pageup"?(o=u-i,o<0&&(o=0)):a==="pagedown"?(o=u+i,o>c.length-1&&(o=c.length-1)):a==="last"&&(o=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[o],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[o])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(jt):R(R({},jt),this.props.theme):jt})},{key:"getCommonProps",value:function(){var a=this.clearValue,i=this.cx,l=this.getStyles,c=this.getClassNames,o=this.getValue,u=this.selectOption,d=this.setValue,m=this.props,p=m.isMulti,g=m.isRtl,v=m.options,y=this.hasValue();return{clearValue:a,cx:i,getStyles:l,getClassNames:c,getValue:o,hasValue:y,isMulti:p,isRtl:g,options:v,selectOption:u,selectProps:m,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,i=a.isClearable,l=a.isMulti;return i===void 0?l:i}},{key:"isOptionDisabled",value:function(a,i){return kn(this.props,a,i)}},{key:"isOptionSelected",value:function(a,i){return On(this.props,a,i)}},{key:"filterOption",value:function(a,i){return Mn(this.props,a,i)}},{key:"formatOptionLabel",value:function(a,i){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(a,{context:i,inputValue:l,selectValue:c})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var a=this.props,i=a.isDisabled,l=a.isSearchable,c=a.inputId,o=a.inputValue,u=a.tabIndex,d=a.form,m=a.menuIsOpen,p=a.required,g=this.getComponents(),v=g.Input,y=this.state,h=y.inputIsHidden,x=y.ariaSelection,b=this.commonProps,N=c||this.getElementId("input"),O=R(R(R({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?x?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?f.createElement(v,F({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:N,innerRef:this.getInputRef,isDisabled:i,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:o},O)):f.createElement(yo,F({id:N,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rt,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},O))})},{key:"renderPlaceholderOrValue",value:function(){var a=this,i=this.getComponents(),l=i.MultiValue,c=i.MultiValueContainer,o=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,m=i.Placeholder,p=this.commonProps,g=this.props,v=g.controlShouldRenderValue,y=g.isDisabled,h=g.isMulti,x=g.inputValue,b=g.placeholder,N=this.state,O=N.selectValue,w=N.focusedValue,C=N.isFocused;if(!this.hasValue()||!v)return x?null:f.createElement(m,F({},p,{key:"placeholder",isDisabled:y,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),b);if(h)return O.map(function(T,M){var H=T===w,K="".concat(a.getOptionLabel(T),"-").concat(a.getOptionValue(T));return f.createElement(l,F({},p,{components:{Container:c,Label:o,Remove:u},isFocused:H,isDisabled:y,key:K,index:M,removeProps:{onClick:function(){return a.removeValue(T)},onTouchEnd:function(){return a.removeValue(T)},onMouseDown:function(Z){Z.preventDefault()}},data:T}),a.formatOptionLabel(T,"value"))});if(x)return null;var P=O[0];return f.createElement(d,F({},p,{data:P,isDisabled:y}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),i=a.ClearIndicator,l=this.commonProps,c=this.props,o=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||o||!this.hasValue()||u)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(i,F({},l,{innerProps:m,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),i=a.LoadingIndicator,l=this.commonProps,c=this.props,o=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!i||!u)return null;var m={"aria-hidden":"true"};return f.createElement(i,F({},l,{innerProps:m,isDisabled:o,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator,l=a.IndicatorSeparator;if(!i||!l)return null;var c=this.commonProps,o=this.props.isDisabled,u=this.state.isFocused;return f.createElement(l,F({},c,{isDisabled:o,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator;if(!i)return null;var l=this.commonProps,c=this.props.isDisabled,o=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(i,F({},l,{innerProps:u,isDisabled:c,isFocused:o}))}},{key:"renderMenu",value:function(){var a=this,i=this.getComponents(),l=i.Group,c=i.GroupHeading,o=i.Menu,u=i.MenuList,d=i.MenuPortal,m=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,v=this.commonProps,y=this.state.focusedOption,h=this.props,x=h.captureMenuScroll,b=h.inputValue,N=h.isLoading,O=h.loadingMessage,w=h.minMenuHeight,C=h.maxMenuHeight,P=h.menuIsOpen,T=h.menuPlacement,M=h.menuPosition,H=h.menuPortalTarget,K=h.menuShouldBlockScroll,q=h.menuShouldScrollIntoView,Z=h.noOptionsMessage,Q=h.onMenuScrollToTop,W=h.onMenuScrollToBottom;if(!P)return null;var L=function(se,le){var ce=se.type,ae=se.data,me=se.isDisabled,S=se.isSelected,j=se.label,_=se.value,Y=y===ae,ee=me?void 0:function(){return a.onOptionHover(ae)},ue=me?void 0:function(){return a.selectOption(ae)},X="".concat(a.getElementId("option"),"-").concat(le),fe={id:X,onClick:ue,onMouseMove:ee,onMouseOver:ee,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:S};return f.createElement(g,F({},v,{innerProps:fe,data:ae,isDisabled:me,isSelected:S,key:X,label:j,type:ce,value:_,isFocused:Y,innerRef:Y?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(se.data,"menu"))},E;if(this.hasOptions())E=this.getCategorizedOptions().map(function(D){if(D.type==="group"){var se=D.data,le=D.options,ce=D.index,ae="".concat(a.getElementId("group"),"-").concat(ce),me="".concat(ae,"-heading");return f.createElement(l,F({},v,{key:ae,data:se,options:le,Heading:c,headingProps:{id:me,data:D.data},label:a.formatGroupLabel(D.data)}),D.options.map(function(S){return L(S,"".concat(ce,"-").concat(S.index))}))}else if(D.type==="option")return L(D,"".concat(D.index))});else if(N){var A=O({inputValue:b});if(A===null)return null;E=f.createElement(m,v,A)}else{var V=Z({inputValue:b});if(V===null)return null;E=f.createElement(p,v,V)}var G={minMenuHeight:w,maxMenuHeight:C,menuPlacement:T,menuPosition:M,menuShouldScrollIntoView:q},ne=f.createElement(Jr,F({},v,G),function(D){var se=D.ref,le=D.placerProps,ce=le.placement,ae=le.maxHeight;return f.createElement(o,F({},v,G,{innerRef:se,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:N,placement:ce}),f.createElement(Po,{captureEnabled:x,onTopArrive:Q,onBottomArrive:W,lockEnabled:K},function(me){return f.createElement(u,F({},v,{innerRef:function(j){a.getMenuListRef(j),me(j)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:a.getElementId("listbox")},isLoading:N,maxHeight:ae,focusedOption:y}),E)}))});return H||M==="fixed"?f.createElement(d,F({},v,{appendTo:H,controlElement:this.controlRef,menuPlacement:T,menuPosition:M}),ne):ne}},{key:"renderFormField",value:function(){var a=this,i=this.props,l=i.delimiter,c=i.isDisabled,o=i.isMulti,u=i.name,d=i.required,m=this.state.selectValue;if(d&&!this.hasValue()&&!c)return f.createElement(Mo,{name:u,onFocus:this.onValueInputFocus});if(!(!u||c))if(o)if(l){var p=m.map(function(y){return a.getOptionValue(y)}).join(l);return f.createElement("input",{name:u,type:"hidden",value:p})}else{var g=m.length>0?m.map(function(y,h){return f.createElement("input",{key:"i-".concat(h),name:u,type:"hidden",value:a.getOptionValue(y)})}):f.createElement("input",{name:u,type:"hidden",value:""});return f.createElement("div",null,g)}else{var v=m[0]?this.getOptionValue(m[0]):"";return f.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,i=this.state,l=i.ariaSelection,c=i.focusedOption,o=i.focusedValue,u=i.isFocused,d=i.selectValue,m=this.getFocusableOptions();return f.createElement(po,F({},a,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:o,isFocused:u,selectValue:d,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),i=a.Control,l=a.IndicatorsContainer,c=a.SelectContainer,o=a.ValueContainer,u=this.props,d=u.className,m=u.id,p=u.isDisabled,g=u.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return f.createElement(c,F({},y,{className:d,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),f.createElement(i,F({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:g}),f.createElement(o,F({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),f.createElement(l,F({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,i){var l=i.prevProps,c=i.clearFocusValueOnUpdate,o=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,m=i.prevWasFocused,p=i.instancePrefix,g=a.options,v=a.value,y=a.menuIsOpen,h=a.inputValue,x=a.isMulti,b=da(v),N={};if(l&&(v!==l.value||g!==l.options||y!==l.menuIsOpen||h!==l.inputValue)){var O=y?Go(a,b):[],w=y?Pa(Qe(a,b),"".concat(p,"-option")):[],C=c?Wo(i,b):null,P=qo(i,O),T=Nt(w,P);N={selectValue:b,focusedOption:P,focusedOptionId:T,focusableOptionsWithIds:w,focusedValue:C,clearFocusValueOnUpdate:!1}}var M=o!=null&&a!==l?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},H=u,K=d&&m;return d&&!K&&(H={value:We(x,b,b[0]||null),options:b,action:"initial-input-focus"},K=!m),u?.action==="initial-input-focus"&&(H=null),R(R(R({},N),M),{},{prevProps:a,ariaSelection:H,prevWasFocused:K})}}]),s})(f.Component);Tn.defaultProps=zo;var Ko=f.forwardRef(function(t,e){var s=us(t);return f.createElement(Tn,F({ref:e},s))}),Xo=Ko;function Jo({isOpen:t,onClose:e,onSuccess:s,editClient:r=null}){const{user:a}=ct(),[i,l]=f.useState({name:"",mauticUrl:"",username:"",password:"",reportId:"4",assignToManager:"",assignToEmployees:[],fromDate:"",toDate:"",limit:2e5,page:1}),[c,o]=f.useState({}),[u,d]=f.useState(null),[m,p]=f.useState(!1),[g,v]=f.useState([]),[y,h]=f.useState([]),[x,b]=f.useState([]),[N,O]=f.useState(!1),{createClient:w,updateClient:C,testConnection:P,isCreating:T,isUpdating:M,isTesting:H}=$a(),K=()=>{p(E=>!E)};f.useEffect(()=>{t&&a?.role==="superadmin"&&q()},[t,a]);const q=async()=>{try{const E=await B.get("/api/users"),A=E.data.users||E.data,V=A.filter(ne=>ne.role==="manager"&&ne.isActive),G=A.filter(ne=>["employee","telecaller"].includes(ne.role)&&ne.isActive);v(V),h(G)}catch(E){console.error("Error fetching users:",E)}};f.useEffect(()=>{if(i.assignToManager){const E=g.find(A=>A.id===parseInt(i.assignToManager));if(E){const A=y.filter(V=>V.createdById===E.id||V.managers?.some(G=>G.id===E.id));b(A)}else b([])}else b(y)},[i.assignToManager,g,y]),f.useEffect(()=>{t&&(async()=>{if(r)try{const A=await B.get(`/api/mautic/clients/${r.id}/password`);if(A.data.success){const V=A.data.data.password;l({name:r.name,mauticUrl:r.mauticUrl,username:r.username,password:V,reportId:r.reportId?.toString()||"4",assignToManager:"",assignToEmployees:[]})}}catch(A){console.error("Error fetching password:",A),l({name:r.name,mauticUrl:r.mauticUrl,username:r.username,password:"",reportId:r.reportId?.toString()||"4",assignToManager:"",assignToEmployees:[]})}else l({name:"",mauticUrl:"",username:"",password:"",reportId:"4",assignToManager:"",assignToEmployees:[]});o({}),d(null)})()},[r,t]);const Z=()=>{const E={};return i.name.trim()||(E.name="Name is required"),i.mauticUrl.trim()?Un(i.mauticUrl)||(E.mauticUrl="Invalid URL format"):E.mauticUrl="Mautic URL is required",i.username.trim()||(E.username="Username is required"),!r&&!i.password.trim()&&(E.password="Password is required"),i.reportId.trim()||(E.reportId="Report ID is required"),o(E),Object.keys(E).length===0},Q=async()=>{if(!Z())return;d(null);const E=await P({mauticUrl:i.mauticUrl,username:i.username,password:i.password});d(E)},W=async E=>{if(E.preventDefault(),!Z())return;const A={name:i.name,mauticUrl:i.mauticUrl,username:i.username,password:i.password,reportId:i.reportId,assignToManager:i.assignToManager||null,assignToEmployees:i.assignToEmployees||[],page:i.page||void 0};N&&(i.fromDate&&(A.fromDate=i.fromDate),i.toDate&&(A.toDate=i.toDate),i.limit&&(A.limit=i.limit));const V=r?await C(r.id,A):await w(A);V.success?(s(),e()):o({submit:V.error})},L=E=>{const{name:A,value:V}=E.target;if(A==="assignToEmployees"){const G=E.target.options,ne=[];for(let D=0;D<G.length;D++)G[D].selected&&ne.push(parseInt(G[D].value));l(D=>({...D,[A]:ne}))}else l(G=>({...G,[A]:V}));c[A]&&o(G=>({...G,[A]:void 0}))};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto transition-transform transform scale-100 hover:scale-105",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Edit Client":"Add New Client"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full","aria-label":"Close modal",children:n.jsx(Fa,{size:24})})]}),n.jsxs("form",{onSubmit:W,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name *"}),n.jsx("input",{type:"text",name:"name",value:i.name,onChange:L,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow ${c.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., My Company","aria-describedby":"name-error"}),c.name&&n.jsx("p",{id:"name-error",className:"mt-1 text-xs text-red-600",children:c.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Autovation URL *"}),n.jsx("input",{type:"text",name:"mauticUrl",value:i.mauticUrl,onChange:L,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow ${c.mauticUrl?"border-red-500":"border-gray-300"}`,placeholder:"https://your-mautic-instance.com","aria-describedby":"mauticUrl-error"}),c.mauticUrl&&n.jsx("p",{id:"mauticUrl-error",className:"mt-1 text-xs text-red-600",children:c.mauticUrl})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),n.jsx("input",{type:"text",name:"username",value:i.username,onChange:L,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow ${c.username?"border-red-500":"border-gray-300"}`,placeholder:"Autovation  username","aria-describedby":"username-error"}),c.username&&n.jsx("p",{id:"username-error",className:"mt-1 text-xs text-red-600",children:c.username})]}),!r&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:m?"text":"password",name:"password",value:i.password,onChange:L,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow ${c.password?"border-red-500":"border-gray-300"}`,placeholder:"••••••••","aria-describedby":"password-error"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center focus:outline-none",onClick:K,"aria-label":"Toggle password visibility",children:m?n.jsx(Le,{className:"h-5 w-5 text-gray-400"}):n.jsx(Ve,{className:"h-5 w-5 text-gray-400"})})]}),c.password&&n.jsx("p",{id:"password-error",className:"mt-1 text-xs text-red-600",children:c.password})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Report ID *"}),n.jsx("input",{type:"text",name:"reportId",value:i.reportId,onChange:L,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow ${c.username?"border-red-500":"border-gray-300"}`,placeholder:"Autovation  report ID","aria-describedby":"reportId-error"}),c.reportId&&n.jsx("p",{id:"reportId-error",className:"mt-1 text-xs text-red-600",children:c.reportId})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Historical Data Backfill (Optional)"}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("input",{type:"checkbox",checked:N,onChange:E=>O(E.target.checked)}),n.jsx("span",{children:"Enable custom backfill"})]})]}),N&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",name:"fromDate",value:i.fromDate,onChange:L,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",name:"toDate",value:i.toDate,onChange:L,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Limit (records per request)"}),n.jsx("input",{type:"number",name:"limit",value:i.limit,onChange:L,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"5000"})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:r?"Fetch additional historical reports for this client (e.g., next month of data)":"Optionally fetch historical reports for a specific date range after client creation"})]})]}),a?.role==="superadmin"&&!r&&n.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(La,{size:18,className:"text-gray-600"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Assign to Users (Optional)"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Manager"}),n.jsxs("select",{name:"assignToManager",value:i.assignToManager,onChange:L,className:"w-full px-4 bg-white py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow",children:[n.jsx("option",{value:"",children:"-- Select Manager --"}),g.map(E=>n.jsxs("option",{value:E.id,children:[E.name," (",E.email,")"]},E.id))]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Select a manager to also assign their employees"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Employees"}),n.jsx(Xo,{isMulti:!0,name:"assignToEmployees",options:x.map(E=>({value:E.id,label:`${E.name} (${E.email}) - ${E.role}`})),value:i.assignToEmployees.map(E=>{const A=x.find(V=>V.id===E);return A?{value:A.id,label:`${A.name} (${A.email}) - ${A.role}`}:null}).filter(Boolean),onChange:E=>{const A=E.map(V=>V.value);l(V=>({...V,assignToEmployees:A}))},classNamePrefix:"react-select"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Select multiple employees by typing or choosing from the list"})]})]}),u&&n.jsxs("div",{className:`p-3 rounded-lg flex items-start gap-2 ${u.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[u.success?n.jsx(Ua,{className:"text-green-600 flex-shrink-0 mt-0.5",size:18}):n.jsx(Ct,{className:"text-red-600 flex-shrink-0 mt-0.5",size:18}),n.jsx("p",{className:`text-sm ${u.success?"text-green-800":"text-red-800"}`,children:u.message})]}),c.submit&&n.jsxs("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 flex items-start gap-2",children:[n.jsx(Ct,{className:"text-red-600 flex-shrink-0 mt-0.5",size:18}),n.jsx("p",{className:"text-sm text-red-800",children:c.submit})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs("button",{type:"button",onClick:Q,disabled:H,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[H&&n.jsx(qt,{className:"animate-spin",size:16}),"Test Connection"]}),n.jsxs("button",{type:"submit",disabled:T||M,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(T||M)&&n.jsx(qt,{className:"animate-spin",size:16}),r?"Update":"Create"]})]})]})]})}):null}const Zo=()=>{const{canAccessSetting:t}=je(),{clients:e,refetch:s}=Bn(),[r,a]=f.useState(!1),[i,l]=f.useState(null),{syncAllClients:c,isSyncing:o}=Hn(),u=async()=>{const d=k.loading("Starting Mautic sync...");try{const m=await c();if(m.success){const p=m.data?.results?`Sync completed: ${m.data.results.successful}/${m.data.results.totalClients} successful`:m.message||"Sync completed successfully";k.update(d,{render:p,type:"success",isLoading:!1,autoClose:5e3});try{window.dispatchEvent(new CustomEvent("mautic:sync-complete",{detail:m}))}catch(g){console.warn("Failed to dispatch sync event",g)}await s()}else m.isSyncing?k.update(d,{render:m.message||"Sync already in progress",type:"info",isLoading:!1,autoClose:4e3}):k.update(d,{render:m.error||"Sync failed",type:"error",isLoading:!1,autoClose:5e3})}catch(m){k.update(d,{render:m?.message||"Failed to start sync",type:"error",isLoading:!1,autoClose:5e3})}};return t("mautic")?n.jsxs(ye,{id:"mautic",className:"mb-16",children:[n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(we,{className:"mr-2",size:20}),"Autovation Clients"]}),n.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"Manage Autovation (Mautic) clients used to sync data. You can add, edit or manage clients here."}),n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{l(null),a(!0)},className:"btn btn-primary",children:"Add Client"}),n.jsxs("button",{onClick:u,className:"btn btn-secondary flex items-center",disabled:o,children:[o?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):null,"Sync"]})]})]}),n.jsx("div",{children:n.jsx(ns,{clients:e,onEdit:d=>{l(d),a(!0)},onRefresh:s})})]}),n.jsx(Jo,{isOpen:r,onClose:()=>{a(!1),l(null)},client:i,onSuccess:s})]}):null},Qo=["image/png","image/jpeg","image/svg+xml","image/webp"],Oa=200*1024,Ma=2*1024*1024,_a=5*1024*1024,qe=t=>{if(!t)return"0 B";const e=["B","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,s)).toFixed(2))} ${e[s]}`},el=()=>{const{canAccessSetting:t}=je(),[e,s]=f.useState(""),[r,a]=f.useState(null),[i,l]=f.useState(null),[c,o]=f.useState(null),[u,d]=f.useState(!1),[m,p]=f.useState(null),[g,v]=f.useState(null),[y,h]=f.useState(null),[x,b]=f.useState(!1),[N,O]=f.useState("image"),[w,C]=f.useState(null),[P,T]=f.useState(null),[M,H]=f.useState(null),[K,q]=f.useState(!1),[Z,Q]=f.useState("#ffffff"),[W,L]=f.useState("#000000"),[E,A]=f.useState("#ffffff"),[V,G]=f.useState(!1);f.useEffect(()=>{ne()},[]),f.useEffect(()=>()=>{try{i&&i.startsWith("blob:")&&URL.revokeObjectURL(i),g&&g.startsWith("blob:")&&URL.revokeObjectURL(g),P&&P.startsWith("blob:")&&URL.revokeObjectURL(P)}catch{}},[i,g,P]);const ne=async()=>{try{const _=(await B.get("/api/superadmin/site-customization")).data?.data;_&&(s(_.siteTitle||""),_.faviconPath&&l(_.faviconPath),_.logoPath&&v(_.logoPath),_.loginBgImagePath&&T(_.loginBgImagePath),_.loginBgType&&O(_.loginBgType),_.loginBgColor&&Q(_.loginBgColor),_.loginBgGradientFrom&&L(_.loginBgGradientFrom),_.loginBgGradientTo&&A(_.loginBgGradientTo))}catch(j){console.warn("Failed to fetch site customization",j)}},D=(j,_,Y,ee)=>j?Qo.includes(j.type)?j.size>_?(k.error(`File too large. Maximum size is ${qe(_)}.`),!1):(Y(j),ee(URL.createObjectURL(j)),!0):(k.error("Invalid file type. Please use PNG, JPG, SVG, or WEBP."),!1):!1,se=j=>{const _=j.target.files?.[0];_&&D(_,Oa,a,l)},le=j=>{const _=j.target.files?.[0];_&&D(_,Ma,p,v)},ce=j=>{const _=j.target.files?.[0];_&&D(_,_a,C,T)},ae=async(j,_,Y,ee)=>{if(!j)return null;ee(!0);try{const ue=new FormData;ue.append("file",j,j.name),ue.append("type",_);const X=j.name.includes(".")?j.name.substring(j.name.lastIndexOf(".")):"";let fe=`${_}${X}`;ue.append("targetName",fe),ue.append("overwrite","true");const pe=await B.post("/api/superadmin/site-config/upload",ue,{headers:{"Content-Type":"multipart/form-data"}});if(pe.data?.success)return Y(pe.data.data.path),pe.data.data.path;throw new Error(pe.data?.message||"Upload failed")}catch(ue){return k.error(ue.message||"Upload failed"),null}finally{ee(!1)}},me=async()=>{G(!0);try{let j=c,_=y,Y=M;r&&(j=await ae(r,"favicon",o,d)),m&&(_=await ae(m,"logo",h,b)),w&&(Y=await ae(w,"loginBg",H,q));const ee={siteTitle:e||"",faviconPath:j||(i&&typeof i=="string"&&!i.startsWith("blob:")?i:void 0),logoPath:_||(g&&typeof g=="string"&&!g.startsWith("blob:")?g:void 0),loginBgType:N||"image",loginBgImagePath:Y||(P&&typeof P=="string"&&!P.startsWith("blob:")?P:void 0),loginBgColor:Z||void 0,loginBgGradientFrom:W||void 0,loginBgGradientTo:E||void 0};Object.keys(ee).forEach(X=>ee[X]===void 0&&delete ee[X]);const ue=await B.put("/api/superadmin/site-config",ee);if(ue.data?.success){const X=ue.data.data||{};k.success("Site customization saved"),X.faviconPath&&l(X.faviconPath),X.logoPath&&v(X.logoPath),X.loginBgImagePath&&T(X.loginBgImagePath),a(null),p(null),C(null);try{const fe={siteTitle:ee.siteTitle||X.siteTitle||"",faviconPath:X.faviconPath||ee.faviconPath||null,logoPath:X.logoPath||ee.logoPath||null,loginBgType:ee.loginBgType||X.loginBgType||N,loginBgImagePath:X.loginBgImagePath||ee.loginBgImagePath||null,loginBgColor:ee.loginBgColor||X.loginBgColor||Z,loginBgGradientFrom:ee.loginBgGradientFrom||X.loginBgGradientFrom||W,loginBgGradientTo:ee.loginBgGradientTo||X.loginBgGradientTo||E};if(localStorage.setItem("siteCustomization",JSON.stringify(fe)),fe.siteTitle&&(document.title=fe.siteTitle),fe.faviconPath){let pe=document.querySelector("link[rel*='icon']");pe||(pe=document.createElement("link"),pe.rel="icon",document.head.appendChild(pe)),pe.href=fe.faviconPath}window.dispatchEvent(new CustomEvent("site-customization-updated",{detail:fe}))}catch{}}else k.error(ue.data?.message||"Failed to save customization")}catch(j){console.error("Error saving site customization",j),k.error(j.response?.data?.message||"Failed to save customization")}finally{G(!1)}},S=async()=>{if(window.confirm("Reset site customization to defaults? This will remove all branding.")){G(!0);try{await B.put("/api/superadmin/site-config",{siteTitle:"",faviconPath:null,logoPath:null,loginBgType:"image",loginBgImagePath:null,loginBgColor:null,loginBgGradientFrom:null,loginBgGradientTo:null}),s(""),a(null),l(null),o(null),p(null),v(null),h(null),O("image"),C(null),T(null),H(null),Q("#ffffff"),L("#000000"),A("#ffffff"),localStorage.removeItem("siteCustomization"),document.title="Reporting Dashboard";const j=document.querySelector("link[rel*='icon']");j&&(j.href="/favicon.png"),document.documentElement.style.removeProperty("--site-login-bg"),k.success("Site customization cleared")}catch(j){console.error("Failed to reset site customization",j),k.error(j.response?.data?.message||"Failed to reset site customization")}finally{G(!1)}}};return t("sitecustom")?n.jsx(ye,{id:"sitecustom",className:"mb-16",children:n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(we,{className:"mr-2",size:20}),"Site Customization"]}),n.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"Configure site title, favicon, logo and login background styling."}),n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Title"}),n.jsx("input",{type:"text",value:e,onChange:j=>s(j.target.value),className:"input",placeholder:"My Dashboard"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favicon"}),n.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"input-file"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Max: ",qe(Oa)]}),i&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Preview:"}),n.jsx("img",{src:i,alt:"favicon",className:"h-8 w-8 object-contain border rounded"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo"}),n.jsx("input",{type:"file",accept:"image/*",onChange:le,className:"input-file"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Max: ",qe(Ma)]}),g&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Preview:"}),n.jsx("img",{src:g,alt:"logo",className:"h-12 max-w-[150px] object-contain border rounded"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Login Background"}),n.jsx("div",{className:"flex gap-4 mb-3",children:["image","color","gradient"].map(j=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"loginBgType",value:j,checked:N===j,onChange:_=>O(_.target.value)}),n.jsx("span",{className:"text-sm capitalize",children:j})]},j))}),N==="image"&&n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"input-file"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Max: ",qe(_a)]}),P&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:P,alt:"login bg",className:"h-24 object-cover border rounded"})})]}),N==="color"&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:Z,onChange:j=>Q(j.target.value),className:"h-10 w-20"}),n.jsx("input",{type:"text",value:Z,onChange:j=>Q(j.target.value),className:"input w-32"})]}),N==="gradient"&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"From"}),n.jsx("input",{type:"color",value:W,onChange:j=>L(j.target.value),className:"h-10 w-16"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"To"}),n.jsx("input",{type:"color",value:E,onChange:j=>A(j.target.value),className:"h-10 w-16"})]}),n.jsx("div",{className:"h-10 w-32 rounded border",style:{background:`linear-gradient(90deg, ${W}, ${E})`}})]})]})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsxs("button",{onClick:me,className:"btn btn-primary flex items-center",disabled:V||u||x||K,children:[n.jsx(De,{size:16,className:"mr-2"}),V?"Saving...":"Save Customization"]}),n.jsxs("button",{onClick:S,className:"btn btn-secondary flex items-center",disabled:V,children:[n.jsx(Ra,{size:16,className:"mr-2"}),"Reset to Defaults"]})]})]})}):null},ge={Pages:["Dashboard","Clients","Users","Services","Activities","Settings"],Settings:["Roles","Autovation Clients","Notifications","System Maintenance Email","SMTP Credentials","Voicemail SFTP Credentials","Vicidial Credentials","Site Customization"],Users:["Create","Read","Update","Delete"],Clients:["Create","Read","Update","Delete"]};function tl({fullAccess:t,permissions:e,onPermissionsChange:s}){const r=Object.keys(ge),[a,i]=f.useState(r[0]),[l,c]=f.useState({});f.useEffect(()=>{if(e&&Object.keys(e).length>0){const p={};r.forEach(g=>{p[g]={},ge[g].forEach(v=>{p[g][v]=e[g]?.[v]||!1})}),c(p)}else{const p={};r.forEach(g=>{p[g]={},ge[g].forEach(v=>{p[g][v]=!1})}),c(p)}},[e]),f.useEffect(()=>{if(t){const p={};r.forEach(g=>{p[g]={},ge[g].forEach(v=>{p[g][v]=!0})}),c(p),s&&s(p)}},[t]);const o=(p,g)=>{if(t)return;const v={...l,[p]:{...l[p],[g]:!l[p]?.[g]}};c(v),s&&s(v)},u=p=>{if(t)return;const g=ge[p].every(y=>l[p]?.[y]),v={...l,[p]:{}};ge[p].forEach(y=>{v[p][y]=!g}),c(v),s&&s(v)},d=Object.values(l[a]||{}).filter(Boolean).length,m=ge[a]?.length||0;return n.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-6 ${t?"opacity-50 pointer-events-none":""}`,children:[n.jsx("div",{className:"md:col-span-1 border border-gray-200 rounded-lg overflow-hidden",children:r.map(p=>{const g=Object.values(l[p]||{}).filter(Boolean).length,v=ge[p].length;return n.jsx("button",{onClick:()=>i(p),disabled:t,className:`w-full text-left px-4 py-3 text-sm border-b last:border-b-0 transition
                ${a===p?"bg-black text-white":"bg-white hover:bg-gray-50 text-gray-700"}
              `,children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:p}),n.jsxs("span",{className:"text-xs opacity-80",children:["(",g," / ",v,")"]})]})},p)})}),n.jsxs("div",{className:"md:col-span-2 border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[a," – User has access to"]}),n.jsx("button",{onClick:()=>u(a),disabled:t,className:"text-xs text-blue-600 hover:text-blue-800 disabled:opacity-50",children:ge[a]?.every(p=>l[a]?.[p])?"Deselect All":"Select All"})]}),n.jsx("div",{className:"space-y-3",children:ge[a]?.map(p=>n.jsxs("label",{className:`flex items-center gap-3 text-sm cursor-pointer
                ${t?"opacity-60 cursor-not-allowed":""}
              `,children:[n.jsx("input",{type:"checkbox",className:"accent-blue-600 w-4 h-4",checked:l[a]?.[p]||!1,onChange:()=>o(a,p),disabled:t}),p]},p))}),n.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:["Selected ",d," of ",m]})]})]})}const al="",Ue=B.create({baseURL:`${al}/api/roles`,headers:{"Content-Type":"application/json"}});Ue.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const nl=()=>Ue.get("/"),sl=t=>Ue.post("/",t),rl=(t,e)=>Ue.put(`/${t}`,e),il=t=>Ue.delete(`/${t}`),ol=()=>{const[t,e]=f.useState([]),[s,r]=f.useState(!0),[a,i]=f.useState(!1),[l,c]=f.useState(null),[o,u]=f.useState("list"),[d,m]=f.useState(null),[p,g]=f.useState("details"),[v,y]=f.useState({name:"",description:"",fullAccess:!1,isTeamManager:!1}),[h,x]=f.useState({});f.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const M=await nl();e(M.data.data||[]),c(null)}catch(M){console.error("Error loading roles:",M),c(M.response?.data?.message||"Failed to load roles")}finally{r(!1)}},N=M=>{const{name:H,value:K,type:q,checked:Z}=M.target;y(Q=>({...Q,[H]:q==="checkbox"?Z:K}))},O=()=>{m(null),y({name:"",description:"",fullAccess:!1,isTeamManager:!1}),x({}),g("details"),u("form")},w=M=>{m(M),y({name:M.name,description:M.description||"",fullAccess:M.fullAccess,isTeamManager:M.isTeamManager||!1}),x(M.permissions||{}),g("details"),u("form")},C=async()=>{if(!v.name.trim()){alert("Role name is required");return}try{i(!0);const M={name:v.name.trim(),description:v.description,fullAccess:v.fullAccess,isTeamManager:v.isTeamManager,permissions:v.fullAccess?{}:h};d?(await rl(d.id,M),alert("Role updated successfully!")):(await sl(M),alert("Role created successfully!")),await b(),u("list")}catch(M){console.error("Error saving role:",M),alert(M.response?.data?.message||"Failed to save role")}finally{i(!1)}},P=async M=>{if(M.isSystem){alert("System roles cannot be deleted");return}if(window.confirm(`Are you sure you want to delete the role "${M.name}"?`))try{await il(M.id),alert("Role deleted successfully!"),await b()}catch(H){console.error("Error deleting role:",H),alert(H.response?.data?.message||"Failed to delete role")}},T=()=>{u("list"),m(null),y({name:"",description:"",fullAccess:!1,isTeamManager:!1}),x({})};return s?n.jsxs("div",{className:"card p-8 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading roles..."})]}):o==="list"?n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles & Permissions"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage user roles and their permissions"})]}),n.jsxs("button",{onClick:O,className:"btn btn-primary flex items-center gap-2",children:[n.jsx(Xn,{size:16}),"New Role"]})]}),l&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),t.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Pt,{size:48,className:"mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No roles configured yet."}),n.jsx("p",{className:"text-sm",children:'Click "New Role" to create your first role.'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(M=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pt,{size:16,className:M.fullAccess?"text-green-600":"text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:M.name}),M.isSystem&&n.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:"System"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-500",children:M.description||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.fullAccess?n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Full Access"}):n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),M.isTeamManager&&n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Team Manager"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[n.jsx(La,{size:14}),n.jsx("span",{children:M._count?.users||0})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>w(M),disabled:M.isSystem,className:"text-blue-600 hover:text-blue-900 p-1.5 hover:bg-blue-50 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:M.isSystem?"System roles cannot be edited":"Edit role",children:n.jsx(Va,{size:16})}),n.jsx("button",{onClick:()=>P(M),disabled:M.isSystem,className:"text-red-600 hover:text-red-900 p-1.5 hover:bg-red-50 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:M.isSystem?"System roles cannot be deleted":"Delete role",children:n.jsx(Da,{size:16})})]})})]},M.id))})]})})]}):n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(In,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d?`Edit Role: ${d.name}`:"New Role"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Define role details and assign permissions"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:C,disabled:a,className:"btn btn-primary flex items-center gap-2 disabled:opacity-50",children:[n.jsx(De,{size:16}),a?"Saving...":"Save"]}),n.jsxs("button",{onClick:T,className:"btn btn-danger flex items-center gap-2",children:[n.jsx(Fa,{size:16}),"Cancel"]})]})]}),n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsxs("nav",{className:"flex gap-6 text-sm font-medium",children:[n.jsx("button",{onClick:()=>g("details"),className:`pb-3 transition-colors ${p==="details"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Details"}),n.jsxs("button",{onClick:()=>g("permissions"),disabled:v.fullAccess,className:`pb-3 transition-colors ${p==="permissions"?"border-b-2 border-blue-600 text-blue-600":v.fullAccess?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-gray-700"}`,children:["Permissions ",v.fullAccess&&"(Full Access Enabled)"]})]})}),p==="details"&&n.jsxs("div",{className:"max-w-2xl space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"name",value:v.name,onChange:N,className:"form-input w-full",placeholder:"e.g. Campaign Manager"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Full system access"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grants access to all modules and actions. Permissions tab will be disabled."})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"fullAccess",checked:v.fullAccess,onChange:N,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Team Manager"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Users with this role will appear in the Manager dropdown for client assignments."})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"isTeamManager",checked:v.isTeamManager,onChange:N,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",value:v.description,onChange:N,className:"form-input w-full h-28",placeholder:"Optional description for this role"})]})]}),p==="permissions"&&!v.fullAccess&&n.jsx(tl,{fullAccess:v.fullAccess,permissions:h,onPermissionsChange:x})]})},Me=[{key:"user_created",label:"User Created",category:"User Management",variables:["recipient_name","user_name","user_email","user_role","action_by","timestamp"],defaultTemplate:`Hello {{recipient_name}},

A new user account has been created:

Name: {{user_name}}
Email: {{user_email}}
Role: {{user_role}}

Created by: {{action_by}}
Time: {{timestamp}}`},{key:"user_updated",label:"User Updated",category:"User Management",variables:["recipient_name","user_name","user_email","user_role","action_by","timestamp"],defaultTemplate:`Hello {{recipient_name}},

User account has been updated:

Name: {{user_name}}
Email: {{user_email}}
Role: {{user_role}}

Updated by: {{action_by}}
Time: {{timestamp}}`},{key:"user_deleted",label:"User Deleted",category:"User Management",variables:["recipient_name","user_name","user_email","action_by","timestamp"],defaultTemplate:`Hello {{recipient_name}},

User account has been deleted:

Name: {{user_name}}
Email: {{user_email}}

Deleted by: {{action_by}}
Time: {{timestamp}}`},{key:"user_activated",label:"User Activated",category:"User Management",variables:["recipient_name","user_name","user_email","action_by","timestamp"]},{key:"user_deactivated",label:"User Deactivated",category:"User Management",variables:["recipient_name","user_name","user_email","action_by","timestamp"]},{key:"password_reset",label:"Password Reset",category:"User Management",variables:["recipient_name","user_name","user_email","timestamp"],defaultTemplate:`Hello {{user_name}},

Your password reset request has been received.

If you did not request this, please contact support immediately.

Time: {{timestamp}}`},{key:"password_changed",label:"Password Changed",category:"User Management",variables:["recipient_name","user_name","user_email","timestamp"],defaultTemplate:`Hello {{user_name}},

Your password has been successfully changed.

If you did not make this change, please contact support immediately.

Time: {{timestamp}}`},{key:"login_failed",label:"Login Failed",category:"User Management",variables:["recipient_name","user_name","user_email","timestamp"]},{key:"account_locked",label:"Account Locked",category:"User Management",variables:["recipient_name","user_name","user_email","timestamp"]},{key:"client_created",label:"Client Created",category:"Client Management",variables:["recipient_name","client_name","client_email","client_company","action_by","timestamp"],defaultTemplate:`Hello {{recipient_name}},

A new client has been created:

Company: {{client_company}}
Name: {{client_name}}
Email: {{client_email}}

Created by: {{action_by}}
Time: {{timestamp}}`},{key:"client_updated",label:"Client Updated",category:"Client Management",variables:["recipient_name","client_name","client_email","client_company","action_by","timestamp"]},{key:"client_deleted",label:"Client Deleted",category:"Client Management",variables:["recipient_name","client_name","client_company","action_by","timestamp"]},{key:"client_assigned",label:"Client Assigned to User",category:"Client Management",variables:["recipient_name","client_name","client_company","user_name","action_by","timestamp"],defaultTemplate:`Hello {{recipient_name}},

Client "{{client_company}}" has been assigned to {{user_name}}.

Time: {{timestamp}}`},{key:"client_unassigned",label:"Client Unassigned from User",category:"Client Management",variables:["recipient_name","client_name","client_company","user_name","action_by","timestamp"]},{key:"mautic_client_imported",label:"Mautic Client Imported",category:"Client Management",variables:["recipient_name","client_name","client_url","report_id","timestamp"],defaultTemplate:`Hello {{recipient_name}},

Mautic client has been successfully imported:

Client: {{client_name}}
URL: {{client_url}}
Report ID: {{report_id}}

Time: {{timestamp}}`},{key:"mautic_sync_started",label:"Mautic Sync Started",category:"Sync Operations",variables:["recipient_name","sync_type","timestamp"]},{key:"mautic_sync_completed",label:"Mautic Sync Completed",category:"Sync Operations",variables:["recipient_name","sync_type","total_clients","successful_clients","failed_clients","duration_seconds","timestamp"],defaultTemplate:`Hello {{recipient_name}},

Mautic synchronization completed successfully.

Type: {{sync_type}}
Total Clients: {{total_clients}}
Successful: {{successful_clients}}
Failed: {{failed_clients}}
Duration: {{duration_seconds}} seconds

Time: {{timestamp}}`},{key:"mautic_sync_failed",label:"Mautic Sync Failed",category:"Sync Operations",variables:["recipient_name","sync_type","error_message","timestamp"],defaultTemplate:`Hello {{recipient_name}},

⚠️ Mautic synchronization failed.

Type: {{sync_type}}
Error: {{error_message}}

Please check the system logs.

Time: {{timestamp}}`},{key:"dropcowboy_sync_started",label:"Voicemail Sync Started",category:"Sync Operations",variables:["recipient_name","timestamp"]},{key:"dropcowboy_sync_completed",label:"Voicemail Sync Completed",category:"Sync Operations",variables:["recipient_name","total_records","timestamp"]},{key:"dropcowboy_sync_failed",label:"Voicemail Sync Failed",category:"Sync Operations",variables:["recipient_name","error_message","timestamp"]},{key:"sftp_fetch_started",label:"SFTP Fetch Started",category:"Sync Operations",variables:["recipient_name","timestamp"]},{key:"sftp_fetch_completed",label:"SFTP Fetch Completed",category:"Sync Operations",variables:["recipient_name","files_count","campaigns_processed","total_records","timestamp"],defaultTemplate:`Hello {{recipient_name}},

SFTP fetch completed successfully.

Files Downloaded: {{files_count}}
Campaigns Processed: {{campaigns_processed}}
Total Records: {{total_records}}

Time: {{timestamp}}`},{key:"sftp_fetch_failed",label:"SFTP Fetch Failed",category:"Sync Operations",variables:["recipient_name","error_message","timestamp"]},{key:"campaign_created",label:"Campaign Created",category:"Campaigns",variables:["recipient_name","campaign_name","client_name","action_by","timestamp"],defaultTemplate:`Hello {{recipient_name}},

A new campaign has been created:

Campaign: {{campaign_name}}
Client: {{client_name}}

Created by: {{action_by}}
Time: {{timestamp}}`},{key:"campaign_updated",label:"Campaign Updated",category:"Campaigns",variables:["recipient_name","campaign_name","client_name","action_by","timestamp"]},{key:"campaign_completed",label:"Campaign Completed",category:"Campaigns",variables:["recipient_name","campaign_name","client_name","bounce_rate","open_rate","timestamp"]},{key:"report_generated",label:"Report Generated",category:"Reports",variables:["recipient_name","campaign_name","report_url","timestamp"]},{key:"report_ready",label:"Report Ready for Download",category:"Reports",variables:["recipient_name","campaign_name","report_url","timestamp"],defaultTemplate:`Hello {{recipient_name}},

Your report is ready for download:

Campaign: {{campaign_name}}
Download URL: {{report_url}}

Time: {{timestamp}}`},{key:"data_export_ready",label:"Data Export Ready",category:"Reports",variables:["recipient_name","report_url","timestamp"]},{key:"smtp_configured",label:"SMTP Configured",category:"System",variables:["recipient_name","action_by","timestamp"]},{key:"sftp_configured",label:"SFTP Configured",category:"System",variables:["recipient_name","action_by","timestamp"]},{key:"system_settings_updated",label:"System Settings Updated",category:"System",variables:["recipient_name","action_by","timestamp"]},{key:"backup_completed",label:"Backup Completed",category:"System",variables:["recipient_name","timestamp"]},{key:"backup_failed",label:"Backup Failed",category:"System",variables:["recipient_name","error_message","timestamp"]},{key:"high_bounce_rate",label:"High Bounce Rate Alert",category:"Alerts",variables:["recipient_name","campaign_name","bounce_rate","client_name","timestamp"],defaultTemplate:`⚠️ High Bounce Rate Alert

Hello {{recipient_name}},

Campaign "{{campaign_name}}" for client {{client_name}} has a high bounce rate.

Bounce Rate: {{bounce_rate}}%

Please review the campaign settings.

Time: {{timestamp}}`},{key:"low_open_rate",label:"Low Open Rate Alert",category:"Alerts",variables:["recipient_name","campaign_name","open_rate","client_name","timestamp"]},{key:"quota_exceeded",label:"Quota Exceeded",category:"Alerts",variables:["recipient_name","quota_limit","quota_used","timestamp"],defaultTemplate:`⚠️ Quota Exceeded Alert

Hello {{recipient_name}},

Your quota has been exceeded.

Limit: {{quota_limit}}
Used: {{quota_used}}

Please upgrade your plan or contact support.

Time: {{timestamp}}`},{key:"storage_warning",label:"Storage Warning",category:"Alerts",variables:["recipient_name","quota_limit","quota_used","timestamp"]},{key:"error_threshold_reached",label:"Error Threshold Reached",category:"Alerts",variables:["recipient_name","error_message","timestamp"]}],Ta=t=>{const e=Me.find(s=>s.key===t);return e?e.label:t},Ye=t=>Me.find(e=>e.key===t),Ea=t=>Me.find(s=>s.key===t)?.variables||[],Ke=t=>Me.find(s=>s.key===t)?.defaultTemplate||"",Ia=[{key:"recipient_name",label:"Recipient Name",sample:"John Doe"},{key:"user_name",label:"User Name",sample:"Jane Smith"},{key:"user_email",label:"User Email",sample:"user@example.com"},{key:"user_role",label:"User Role",sample:"Manager"},{key:"client_name",label:"Client Name",sample:"Acme Corp"},{key:"client_email",label:"Client Email",sample:"client@acme.com"},{key:"client_company",label:"Client Company",sample:"Acme Corporation"},{key:"campaign_name",label:"Campaign Name",sample:"Summer Promo 2025"},{key:"report_date",label:"Report Date",sample:"2025-12-01"},{key:"report_url",label:"Report URL",sample:"https://example.com/reports/123"},{key:"files_count",label:"Files Count",sample:"5"},{key:"total_records",label:"Total Records",sample:"1,234"},{key:"sync_type",label:"Sync Type",sample:"Autovation (Mautic)"},{key:"total_clients",label:"Total Clients",sample:"10"},{key:"successful_clients",label:"Successful Clients",sample:"9"},{key:"failed_clients",label:"Failed Clients",sample:"1"},{key:"duration_seconds",label:"Duration (seconds)",sample:"45.2"},{key:"error_message",label:"Error Message",sample:"Connection timeout"},{key:"action_by",label:"Action Performed By",sample:"Admin User"},{key:"timestamp",label:"Timestamp",sample:"2025-12-01 10:30:00"},{key:"company",label:"Company Name",sample:"Digital Bevy"},{key:"bounce_rate",label:"Bounce Rate %",sample:"15.5"},{key:"open_rate",label:"Open Rate %",sample:"42.3"},{key:"quota_limit",label:"Quota Limit",sample:"10,000"},{key:"quota_used",label:"Quota Used",sample:"9,500"}],ll={recipient_name:"John Doe",user_name:"Jane Smith",user_email:"user@example.com",user_role:"Manager",client_name:"Acme Corp",client_email:"client@acme.com",client_company:"Acme Corporation",campaign_name:"Summer Promo 2025",report_date:"2025-12-01",report_url:"https://example.com/reports/123",files_count:"5",total_records:"1,234",sync_type:"Autovation (Mautic)",total_clients:"10",successful_clients:"9",failed_clients:"1",duration_seconds:"45.2",error_message:"Connection timeout",action_by:"Admin User",timestamp:"2025-12-01 10:30:00",company:"Digital Bevy",bounce_rate:"15.5",open_rate:"42.3",quota_limit:"10,000",quota_used:"9,500"},cl=()=>{const{user:t}=ct(),{canAccessSetting:e}=je(),[s,r]=f.useState([]),[a,i]=f.useState(!1),[l,c]=f.useState(null),[o,u]=f.useState({action:"",template:"",active:!0}),[d,m]=f.useState(!0),[p,g]=f.useState(!1),[v,y]=f.useState(!0),[h,x]=f.useState(!1),[b,N]=f.useState([]),[O,w]=f.useState(null),[C,P]=f.useState(!1),[T,M]=f.useState(!1),[H,K]=f.useState(!1),[q,Z]=f.useState(null);f.useEffect(()=>{A(),E()},[]);const Q=S=>S?S.replace(/{{\s*([\w\.]+)\s*}}/g,(j,_)=>ll[_]??`<<${_}>>`):"",W=S=>{u(j=>({...j,template:(j.template||"")+` {{${S}}}`}))},L=(S,j)=>{r(_=>_.map(Y=>Y.id===S?{...Y,template:(Y.template||"")+` {{${j}}}`}:Y))},E=async()=>{try{const j=(await B.get("/api/settings")).data.settings||{};m(j.notifEmailNotifications!==!1),y(j.notifActivityEmails!==!1)}catch(S){console.error("Failed to fetch settings",S)}},A=async()=>{i(!0);try{const S=await B.get("/api/superadmin/notifications");S.data?.data?r(S.data.data||[]):S.data&&r(S.data||[])}catch(S){console.warn("Failed to fetch notifications",S)}finally{i(!1)}},V=async()=>{if(!o.action||!o.template)return k.error("Action and template are required");try{const S=await B.post("/api/superadmin/notifications",o);S.data?.success?(k.success("Notification created"),u({action:"",template:"",active:!0}),await A()):k.error(S.data?.message||"Failed to create notification")}catch(S){console.error("Create notification failed",S),k.error(S.response?.data?.message||"Failed to create notification")}},G=async(S,j)=>{try{const _=await B.put(`/api/superadmin/notifications/${S}`,j);_.data?.success?(k.success("Notification updated"),await A(),c(null)):k.error(_.data?.message||"Failed to update notification")}catch(_){console.error("Update notification failed",_),k.error(_.response?.data?.message||"Failed to update notification")}},ne=async S=>{if(window.confirm("Delete this notification?"))try{const j=await B.delete(`/api/superadmin/notifications/${S}`);j.data?.success?(k.success("Notification deleted"),await A()):k.error(j.data?.message||"Failed to delete notification")}catch(j){console.error("Delete notification failed",j),k.error(j.response?.data?.message||"Failed to delete notification")}},D=async S=>{const j={...S,active:!S.active};await G(S.id,j)},se=async S=>{g(!0);try{const j=await B.put("/api/settings",{notifEmailNotifications:S});j.data?.success?(m(S),k.success(`Email notifications ${S?"enabled":"disabled"}`),await E()):k.error(j.data?.message||"Failed to update settings")}catch(j){console.error("Toggle email notifications failed",j),k.error(j.response?.data?.message||"Failed to update settings")}finally{g(!1)}},le=async S=>{x(!0);try{const j=await B.put("/api/settings",{notifActivityEmails:S});j.data?.success?(y(S),k.success(`Activity email notifications ${S?"enabled":"disabled"}`),await E()):k.error(j.data?.message||"Failed to update settings")}catch(j){console.error("Toggle activity emails failed",j),k.error(j.response?.data?.message||"Failed to update settings")}finally{x(!1)}},ce=async()=>{M(!0);try{const S=await B.get("/api/superadmin/notifications/logs?limit=50");S.data?.data&&N(S.data.data)}catch(S){console.error("Failed to fetch email logs",S),k.error("Failed to load email logs")}finally{M(!1)}},ae=async()=>{try{const S=await B.get("/api/superadmin/notifications/stats");S.data?.data&&w(S.data.data)}catch(S){console.error("Failed to fetch email stats",S)}},me=async S=>{if(!t?.email){k.error("Your user account must have an email address");return}const j=k.loading("Sending test notification...");try{const _=await B.post("/api/superadmin/notifications/test",{action:S,recipientEmail:t.email,recipientName:t.name});_.data?.success?(k.update(j,{render:`Test email sent to ${t.email}! Check your inbox.`,type:"success",isLoading:!1,autoClose:5e3}),C&&(await ce(),await ae())):k.update(j,{render:_.data?.message||"Failed to send test email",type:"error",isLoading:!1,autoClose:5e3})}catch(_){console.error("Test notification failed",_),k.update(j,{render:_.response?.data?.message||"Failed to send test email",type:"error",isLoading:!1,autoClose:5e3})}};return e("notifs")?n.jsx(ye,{id:"notifs",children:n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(we,{className:"mr-2",size:20}),"Notifications"]}),n.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"Create and manage notification templates. Use the template textarea to paste message templates."}),n.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1 flex items-center",children:"📧 Global Email Notifications"}),n.jsx("p",{className:"text-sm text-gray-600",children:d?"Email notifications are currently enabled. Users will receive emails for active notification templates below.":"Email notifications are currently disabled. Enable this to start sending notification emails to users."})]}),n.jsx("div",{className:"ml-4",children:n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d,onChange:S=>se(S.target.checked),disabled:p,className:"sr-only peer"}),n.jsx("div",{className:"w-14 h-7 scale-75 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:p?"Updating...":d?"Enabled":"Disabled"})]})})]})}),n.jsx("div",{className:"mb-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1 flex items-center",children:"🔔 Activity Email Notifications (Super Admin Only)"}),n.jsx("p",{className:"text-sm text-gray-600",children:v?"All super admins will receive real-time email notifications for every activity in the system (user actions, client changes, etc.).":"Activity email notifications are disabled. Enable this to send activity alerts to all super admins."})]}),n.jsx("div",{className:"ml-4",children:n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:S=>le(S.target.checked),disabled:h,className:"sr-only peer"}),n.jsx("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-purple-600"}),n.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:h?"Updating...":v?"Enabled":"Disabled"})]})})]})}),n.jsx("div",{className:"mb-4 border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-start",children:[n.jsxs("div",{children:[n.jsxs("select",{className:"form-input p-2",value:o.action,onChange:S=>{const j=S.target.value;u(_=>({..._,action:j}))},children:[n.jsx("option",{value:"",children:"Select action..."}),Me.map(S=>n.jsx("option",{value:S.key,children:S.label},S.key))]}),o.action&&Ye(o.action)?.category&&n.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Category: ",Ye(o.action).category]}),o.action&&Ke(o.action)&&n.jsx("button",{type:"button",onClick:()=>u(S=>({...S,template:Ke(o.action)})),className:"mt-2 px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded text-sm font-medium w-full",children:"Use Default Template"})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.action?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-2 text-xs font-medium text-gray-700",children:"Available variables for this action:"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Ea(o.action).map(S=>{const j=Ia.find(_=>_.key===S);return j?n.jsx("button",{type:"button",onClick:()=>W(S),className:"px-2 py-1 bg-green-100 hover:bg-green-200 rounded text-xs text-green-800 font-medium",title:`Click to insert {{${S}}}`,children:j.label},S):null})})]}):n.jsx("div",{className:"mb-3 text-xs text-gray-500 italic",children:"Select an action to see available variables"}),n.jsx("textarea",{placeholder:"Template",className:"form-input h-24 w-full text-sm",value:o.template,onChange:S=>u(j=>({...j,template:S.target.value}))}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>K(S=>!S),className:"btn btn-secondary btn-sm text-sm px-2 py-1",children:H?"Hide Preview":"Preview"}),H&&n.jsxs("div",{className:"p-3 bg-white border rounded w-full mt-2",children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Rendered preview"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-800",children:Q(o.template)})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("label",{className:"inline-flex items-center",children:[n.jsx("input",{type:"checkbox",checked:o.active,onChange:S=>u(j=>({...j,active:S.target.checked})),className:"mr-2"}),"Active"]}),n.jsx("button",{onClick:V,className:"btn btn-primary text-sm",children:"Create New"})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Action"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Template"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500",children:"Active"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500",children:"Edit"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-4 text-center text-sm text-gray-500",children:"Loading..."})}):s.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-4 text-center text-sm text-gray-500",children:"No notifications defined"})}):s.map(S=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 align-top text-sm text-gray-700",children:S.action}),n.jsx("td",{className:"px-4 py-2",children:l===S.id?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{className:"form-input flex-1",value:S.action,onChange:j=>r(_=>_.map(Y=>Y.id===S.id?{...Y,action:j.target.value}:Y)),children:[n.jsx("option",{value:"",children:"Select action..."}),Me.map(j=>n.jsx("option",{value:j.key,children:j.label},j.key))]}),S.action&&Ke(S.action)&&n.jsx("button",{type:"button",onClick:()=>r(j=>j.map(_=>_.id===S.id?{..._,template:Ke(S.action)}:_)),className:"px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded text-sm font-medium whitespace-nowrap",children:"Use Template"})]}),S.action&&Ye(S.action)?.category&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Category: ",Ye(S.action).category]}),S.action?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-2 text-xs font-medium text-gray-700",children:"Available variables for this action:"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Ea(S.action).map(j=>{const _=Ia.find(Y=>Y.key===j);return _?n.jsx("button",{type:"button",onClick:()=>L(S.id,j),className:"px-2 py-1 bg-green-100 hover:bg-green-200 rounded text-sm text-green-800 font-medium",title:`Click to insert {{${j}}}`,children:_.label},j):null})})]}):n.jsx("div",{className:"mb-3 text-xs text-gray-500 italic",children:"Select an action to see available variables"}),n.jsx("textarea",{className:"form-input w-full h-24",value:S.template,onChange:j=>r(_=>_.map(Y=>Y.id===S.id?{...Y,template:j.target.value}:Y))}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>Z(q===S.id?null:S.id),className:"btn btn-secondary btn-sm",children:q===S.id?"Hide Preview":"Preview"}),q===S.id&&n.jsxs("div",{className:"p-3 bg-white border rounded w-full mt-2",children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Rendered preview"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-800",children:Q(S.template)})]})]})]}):n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-700",children:Ta(S.action)}),n.jsx("textarea",{readOnly:!0,className:"form-input w-full h-32 text-xs bg-gray-50 mt-2",value:S.template})]})}),n.jsx("td",{className:"px-4 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:!!S.active,onChange:()=>D(S)})}),n.jsx("td",{className:"px-4 py-2 text-center",children:l===S.id?n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsx("button",{onClick:()=>G(S.id,S),className:"btn btn-primary btn-sm px-2 py-1",children:"Save"}),n.jsx("button",{onClick:()=>{c(null),A()},className:"btn btn-secondary btn-sm px-2 py-1",children:"Cancel"})]}):n.jsx("div",{className:"flex gap-2 justify-center",children:n.jsx("button",{onClick:()=>c(S.id),className:"btn btn-secondary btn-sm px-2 py-1",children:"Edit"})})}),n.jsx("td",{className:"px-4 py-2 text-center",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsx("button",{onClick:()=>me(S.action),className:"btn btn-sm px-2 py-1 bg-green-600 hover:bg-green-700 text-white",title:"Send test email",children:"Test"}),n.jsx("button",{onClick:()=>ne(S.id),className:"btn btn-danger btn-sm px-2 py-1",children:"Delete"})]})})]},S.id))})]})}),n.jsxs("div",{className:"mt-6 border-t pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Activity"}),n.jsxs("button",{onClick:()=>{P(!C),C||(ce(),ae())},className:"btn btn-secondary btn-sm",children:[C?"Hide":"View"," Email Logs"]})]}),C&&n.jsxs("div",{className:"space-y-4",children:[O&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Sent"}),n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:O.totalSent})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Failed"}),n.jsx("div",{className:"text-2xl font-bold text-red-900",children:O.totalFailed})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Success Rate"}),n.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[O.successRate,"%"]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Emails"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.totalEmails})]})]}),n.jsx("div",{className:"overflow-x-auto",children:T?n.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading email logs..."}):b.length===0?n.jsx("div",{className:"text-center py-4 text-gray-500",children:"No email logs found"}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Time"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Action"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Recipient"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Details"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:b.map(S=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 whitespace-nowrap",children:new Date(S.sentAt).toLocaleString()}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:Ta(S.action)}),n.jsxs("td",{className:"px-4 py-2 text-sm text-gray-700",children:[n.jsx("div",{children:S.recipientName}),n.jsx("div",{className:"text-xs text-gray-500",children:S.recipientEmail})]}),n.jsx("td",{className:"px-4 py-2 text-sm",children:S.success?n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-medium",children:"✓ Sent"}):n.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-xs font-medium",children:"✗ Failed"})}),n.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:S.success?n.jsxs("span",{title:S.messageId,children:["ID: ",S.messageId?.substring(0,20),"..."]}):n.jsxs("span",{className:"text-red-600",title:S.errorMessage,children:[S.errorMessage?.substring(0,50),"..."]})})]},S.id))})]})})]})]})]})}):null},ul={recipient_name:"John Doe",user_name:"Jane Smith",user_email:"user@example.com"},dl=()=>{const{canAccessSetting:t}=je(),[e,s]=f.useState({subject:"",body:""}),[r,a]=f.useState(!1),[i,l]=f.useState(null),[c,o]=f.useState(!1),[u,d]=f.useState([]),[m,p]=f.useState(""),[g,v]=f.useState(!1);f.useEffect(()=>{x(),y()},[]);const y=async()=>{try{const C=await B.get("/api/superadmin/smtp-credentials");C.data?.data?.host&&C.data?.data?.fromAddress&&v(!0)}catch(C){console.warn("Failed to check SMTP status",C)}},h=C=>C?C.replace(/{{\s*([\w\.]+)\s*}}/g,(P,T)=>ul[T]??`<<${T}>>`):"",x=()=>{try{const C=localStorage.getItem("maintenance_templates");C&&d(JSON.parse(C))}catch(C){console.warn("Failed to load saved templates",C)}},b=()=>{if(!m?.trim())return k.error("Please provide a name to save the template");const C=Array.isArray(u)?[...u]:[];C.unshift({name:m.trim(),subject:e.subject,body:e.body,createdAt:Date.now()});const P=C.slice(0,10);try{localStorage.setItem("maintenance_templates",JSON.stringify(P)),d(P),p(""),k.success("Template saved locally")}catch(T){console.error("Failed to save template locally",T),k.error("Failed to save template")}},N=C=>{const P=u[C];P&&(s({subject:P.subject||"",body:P.body||""}),k.info(`Loaded template: ${P.name}`))},O=C=>{const P=[...u],T=P.splice(C,1);try{localStorage.setItem("maintenance_templates",JSON.stringify(P)),d(P),k.success(`Deleted: ${T[0]?.name||"template"}`)}catch(M){console.error("Failed to delete template",M),k.error("Failed to delete template")}},w=async()=>{if(!e.subject?.trim()||!e.body?.trim()){k.error("Please provide both subject and email body");return}a(!0),l(null);try{const C=await B.post("/api/superadmin/send-maintenance-email",{subject:e.subject,template:e.body});if(C.data?.success){const P=C.data.data,T=`✓ Successfully sent to ${P.successCount} users${P.failureCount>0?`, ${P.failureCount} failed`:""}`;l({success:!0,message:T}),k.success(T)}else{const P=C.data?.message||"Failed to send maintenance email";l({success:!1,message:P}),k.error(P)}}catch(C){console.error("Send maintenance email failed:",C);const P=C.response?.data?.message||"Failed to send maintenance email";l({success:!1,message:P}),k.error(P)}finally{a(!1)}};return t("maintenance")?n.jsx(ye,{id:"maintenance",children:n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(we,{className:"mr-2",size:20}),"System Maintenance Email"]}),n.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"Send a notification email to all active users in the system using a template."}),n.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"text-2xl mr-3",children:"⚠️"}),n.jsxs("div",{className:"text-sm text-yellow-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"This will send an email to ALL active users in the system."}),n.jsx("p",{children:"Make sure SMTP is configured and the template is properly set before sending."})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Subject ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"form-input w-full",placeholder:"e.g., System Maintenance Notification",value:e.subject,onChange:C=>s(P=>({...P,subject:C.target.value}))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Body ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"form-input w-full h-64",placeholder:"Write your message here. You can use variables like {{recipient_name}}, {{user_email}}, etc.",value:e.body,onChange:C=>s(P=>({...P,body:C.target.value}))}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsx("strong",{children:"Available variables:"})," ","{{recipient_name}}, {{user_name}}, {{user_email}}"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-start",children:[n.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[n.jsx("input",{type:"text",className:"form-input w-full",placeholder:"Save template as (optional)",value:m,onChange:C=>p(C.target.value)}),n.jsx("button",{onClick:b,className:"btn btn-secondary",children:"Save"})]}),n.jsx("div",{className:"flex items-center gap-2 justify-end",children:u&&u.length>0&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{className:"form-input",onChange:C=>N(C.target.value),children:[n.jsx("option",{value:"",children:"Load saved..."}),u.map((C,P)=>n.jsx("option",{value:P,children:C.name},C.createdAt||P))]}),n.jsx("button",{onClick:()=>{const C=prompt("Enter index to delete (0 is newest):");C!==null&&O(parseInt(C))},className:"btn btn-ghost",children:"Delete"})]})})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[n.jsx("button",{onClick:()=>o(!0),disabled:!e.subject?.trim()||!e.body?.trim(),className:"btn btn-outline",children:"🔍 Preview"}),n.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[n.jsx("div",{className:`px-3 py-1 rounded text-sm ${g?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:g?"SMTP configured":"SMTP not configured"}),n.jsx("button",{onClick:w,disabled:!e.subject?.trim()||!e.body?.trim()||r||!g,className:"btn btn-primary flex items-center",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):n.jsx(n.Fragment,{children:"📧 Send to All Users"})})]})]}),i&&n.jsx("div",{className:`text-sm mt-3 ${i.success?"text-green-600":"text-red-600"}`,children:i.message}),c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Preview Email"}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-600",children:"Close"})]}),n.jsx("div",{className:"mb-3 text-sm text-gray-600 font-medium",children:"Subject"}),n.jsx("div",{className:"mb-4 text-gray-800 font-semibold",children:h(e.subject)}),n.jsx("div",{className:"mb-3 text-sm text-gray-600 font-medium",children:"Body"}),n.jsx("div",{className:"whitespace-pre-wrap text-gray-800 border p-3 rounded",style:{maxHeight:"60vh",overflow:"auto"},children:h(e.body)}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{onClick:()=>o(!1),className:"btn btn-primary",children:"Close"})})]})})]})]})}):null},ml=[{id:"openai",name:"OpenAI"},{id:"anthropic",name:"Anthropic (Claude)"}],fl=()=>{const{canAccessSetting:t}=je(),[e,s]=f.useState(!0),[r,a]=f.useState(!1),[i,l]=f.useState({llmProvider:"openai",llmApiKey:"",llmModel:"gpt-4o-mini",voiceProvider:"elevenlabs",voiceApiKey:"",voiceId:"",assistantName:"Bevy",isEnabled:!1}),[c,o]=f.useState({}),[u,d]=f.useState([]),[m,p]=f.useState(!1);f.useEffect(()=>{g()},[]);const g=async()=>{try{const b=await B.get("/api/ai/settings");b.data.success&&(l(b.data.settings),o(b.data.models||{}))}catch(b){console.error("Failed to fetch AI settings",b)}finally{s(!1)}},v=async()=>{p(!0);try{const b=await B.get("/api/ai/voices");b.data.success&&d(b.data.voices||[])}catch(b){console.error("Failed to fetch voices",b)}finally{p(!1)}},y=async()=>{a(!0);try{const b=await B.put("/api/ai/settings",i);b.data.success&&(k.success("AI settings saved successfully"),l(b.data.settings))}catch(b){k.error(b.response?.data?.message||"Failed to save AI settings")}finally{a(!1)}},h=(b,N)=>{l(O=>({...O,[b]:N}))};if(!t("ai"))return null;if(e)return n.jsx(ye,{id:"ai",children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(gt,{className:"w-6 h-6 animate-spin text-blue-500"})})});const x=c[i.llmProvider]||[];return n.jsx(ye,{id:"ai",children:n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(An,{className:"w-6 h-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Assistant"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Configure your AI-powered assistant"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.isEnabled,onChange:b=>h("isEnabled",b.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}),n.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:i.isEnabled?"Enabled":"Disabled"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[n.jsx(qn,{className:"w-4 h-4"}),"LLM Configuration"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider"}),n.jsx("select",{value:i.llmProvider,onChange:b=>h("llmProvider",b.target.value),className:"form-input w-full",children:ml.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),n.jsx("select",{value:i.llmModel,onChange:b=>h("llmModel",b.target.value),className:"form-input w-full",children:x.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),n.jsx("input",{type:"password",value:i.llmApiKey||"",onChange:b=>h("llmApiKey",b.target.value),placeholder:"Enter your API key",className:"form-input w-full"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:i.llmProvider==="openai"?"Get your API key from platform.openai.com":"Get your API key from console.anthropic.com"})]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[n.jsx(Rn,{className:"w-4 h-4"}),"Voice Configuration (Optional)"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ElevenLabs API Key"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"password",value:i.voiceApiKey||"",onChange:b=>h("voiceApiKey",b.target.value),placeholder:"Enter your ElevenLabs API key",className:"form-input flex-1"}),n.jsx("button",{onClick:v,disabled:m||!i.voiceApiKey,className:"btn btn-secondary",children:m?n.jsx(gt,{className:"w-4 h-4 animate-spin"}):"Load Voices"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Get your API key from elevenlabs.io"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Voice"}),n.jsxs("select",{value:i.voiceId||"",onChange:b=>h("voiceId",b.target.value),className:"form-input w-full",disabled:u.length===0,children:[n.jsx("option",{value:"",children:"Select a voice..."}),u.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assistant Name"}),n.jsx("input",{type:"text",value:i.assistantName||"",onChange:b=>h("assistantName",b.target.value),placeholder:"Bevy",className:"form-input w-full"}),n.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:['Used for wake word: "Hey ',i.assistantName||"Bevy",'"']})]})]})]}),i.isEnabled&&!i.llmApiKey&&n.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-2",children:[n.jsx(Ct,{className:"w-5 h-5 text-yellow-600"}),n.jsx("span",{className:"text-sm text-yellow-800",children:"Please enter an API key to enable the AI assistant"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:y,disabled:r,className:"btn btn-primary flex items-center gap-2",children:[r?n.jsx(gt,{className:"w-4 h-4 animate-spin"}):n.jsx(Ua,{className:"w-4 h-4"}),"Save Settings"]})})]})]})})},yl=()=>n.jsxs(Zn,{children:[n.jsx(Qn,{}),n.jsx(ol,{}),n.jsx(Zo,{}),n.jsx(cl,{}),n.jsx(dl,{}),n.jsx(es,{}),n.jsx(ts,{}),n.jsx(as,{}),n.jsx(el,{}),n.jsx(fl,{})]});export{yl as default};
//# sourceMappingURL=Settings-CUq-sifx.js.map
