{"version":3,"file":"Employees-CTQLKf5P.js","sources":["../../src/pages/Employees.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext.jsx'\nimport axios from 'axios'\nimport { toast } from 'react-toastify'\nimport { UserPlus, Edit, Trash2, X, EyeOff, Eye, ToggleLeft, ToggleRight, Shield } from 'lucide-react'\nimport { usePermissions } from '../utils/permissions'\n\nconst Employees = () => {\n  const { user } = useAuth()\n  const { hasFullAccess, hasPermission } = usePermissions(user)\n  const [employees, setEmployees] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [showModal, setShowModal] = useState(false)\n  const [editingUser, setEditingUser] = useState(null)\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    roleId: ''\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [availableRoles, setAvailableRoles] = useState([]);\n  const [rolesLoading, setRolesLoading] = useState(true);\n\n  useEffect(() => {\n    fetchEmployees()\n    fetchRoles()\n  }, [user]);\n\n  const fetchRoles = async () => {\n    try {\n      setRolesLoading(true);\n      const response = await axios.get('/api/roles')\n      const allRoles = response.data.data?.filter(r => r.isActive) || [];\n      \n      // Filter roles based on current user's permissions\n      let filteredRoles = allRoles;\n      \n      // Users with full access can assign any role\n      // Users without full access cannot assign full access roles\n      if (!hasFullAccess()) {\n        filteredRoles = allRoles.filter(r => !r.fullAccess);\n      }\n      \n      setAvailableRoles(filteredRoles);\n    } catch (error) {\n      console.error('Error fetching roles:', error);\n      setAvailableRoles([]);\n    } finally {\n      setRolesLoading(false);\n    }\n  };\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(prev => !prev);\n  };\n\n  const fetchEmployees = async () => {\n    try {\n      const response = await axios.get('/api/users')\n      // Show all users - filtering is now handled by backend based on permissions\n      setEmployees(response.data.users || [])\n    } catch (error) {\n      toast.error('Error fetching employees')\n      console.error(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    // Password validation for new employee\n    if (!editingUser) {\n      if (!formData.password) {\n        toast.error('Password is required');\n        return;\n      }\n      if (formData.password.length < 8) {\n        toast.error('Password must be at least 8 characters');\n        return;\n      }\n      if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?]).+$/.test(formData.password)) {\n        toast.error('Password must contain uppercase, lowercase, number, and special symbol');\n        return;\n      }\n    }\n    // Validate role selection\n    if (!formData.roleId) {\n      toast.error('Please select a role');\n      return;\n    }\n\n    try {\n      if (editingUser) {\n        // Update employee - only send customRoleId, backend derives base role\n        const updateData = {\n          name: formData.name,\n          email: formData.email,\n          customRoleId: parseInt(formData.roleId)\n        };\n        await axios.put(`/api/users/${editingUser.id}`, updateData)\n        toast.success('Employee updated successfully')\n      } else {\n        // Create employee - only send customRoleId, backend derives base role\n        const createData = {\n          name: formData.name,\n          email: formData.email,\n          password: formData.password,\n          customRoleId: parseInt(formData.roleId)\n        };\n        await axios.post('/api/users', createData)\n        toast.success('Employee created successfully')\n      }\n\n      fetchEmployees()\n      closeModal()\n    } catch (error) {\n      const errorMessage = error.response?.data?.error?.message || error.response?.data?.message || 'Operation failed';\n      toast.error(errorMessage);\n    }\n  }\n\n  const handleEdit = (employeeToEdit) => {\n    setEditingUser(employeeToEdit)\n    setFormData({\n      name: employeeToEdit.name,\n      email: employeeToEdit.email,\n      password: '',\n      roleId: employeeToEdit.customRoleId?.toString() || ''\n    })\n    setShowModal(true)\n  }\n\n  const handleDelete = async (employeeId) => {\n    if (window.confirm('Are you sure you want to delete this employee?')) {\n      try {\n        await axios.delete(`/api/users/${employeeId}`)\n        toast.success('Employee deleted successfully')\n        fetchEmployees()\n      } catch (error) {\n        toast.error(error.response?.data?.message || 'Failed to deactivate employee')\n      }\n    }\n  }\n  const toggleActivity = async (userItem) => {\n    const newStatus = !userItem.isActive\n\n    // Optimistically update UI\n    setEmployees(prev =>\n      prev.map(u => (u.id === userItem.id ? { ...u, isActive: newStatus } : u))\n    )\n\n    try {\n      await axios.put(`/api/users/${userItem.id}`, { isActive: newStatus })\n      if (newStatus) {\n        toast.success('Employee Reactivated')\n      } else {\n        toast.error('Employee Deactivated')\n      }\n    } catch (error) {\n      // Revert on error\n      setEmployees(prev =>\n        prev.map(u => (u.id === userItem.id ? { ...u, isActive: userItem.isActive } : u))\n      )\n      toast.error(error.response?.data?.message || 'Failed to update employee status')\n    }\n  }\n\n  const closeModal = () => {\n    setShowModal(false)\n    setEditingUser(null)\n    setFormData({\n      name: '',\n      email: '',\n      password: '',\n      roleId: ''\n    })\n  }\n\n  // Get display badge class for role - used for styling only\n  const getRoleBadgeClass = (employee) => {\n    // Use customRole name if available, otherwise fall back to base role\n    if (employee.customRole?.name) {\n      const name = employee.customRole.name.toLowerCase();\n      if (name.includes('super')) return 'badge-superadmin';\n      if (name.includes('admin')) return 'badge-admin';\n      if (name.includes('manager')) return 'badge-manager';\n      if (name.includes('telecaller')) return 'badge-telecaller';\n    }\n    return roleClassMap[employee.role] || 'badge-employee';\n  };\n\n  const roleClassMap = {\n    superadmin: 'badge-superadmin',\n    admin: 'badge-admin',\n    manager: 'badge-manager',\n    employee: 'badge-employee',\n    telecaller: 'badge-telecaller',\n  };\n\n  // Check if user can create employees based on their permissions\n  const canCreateEmployee = hasFullAccess() || hasPermission('Users', 'Create');\n\n  if (loading || rolesLoading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"max-w-7xl pb-4 mx-auto px-4 sm:px-6 lg:px-8 animate-fade-in\">\n      <div className=\"card\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              Employee Management\n            </h1>\n            <p className=\"text-gray-600 mt-1\">\n              Manage employees and their roles\n            </p>\n          </div>\n\n          {canCreateEmployee && (\n            <button\n              onClick={() => setShowModal(true)}\n              className=\"btn btn-primary\"\n            >\n              <UserPlus size={16} />\n              Add Employee\n            </button>\n          )}\n        </div>\n\n        {employees.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <UserPlus className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n            <p className=\"text-gray-500\">No employees found.</p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Name\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Email\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Role\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Created By\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {employees.map((userItem, index) => (\n                  <tr key={index} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      {userItem.name.charAt(0).toUpperCase() + userItem.name.slice(1)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {userItem.email}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`badge ${roleClassMap[userItem.role]}`}>\n                        {userItem.customRole?.name || (userItem.role.charAt(0).toUpperCase() + userItem.role.slice(1))}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {userItem.createdBy?.name.charAt(0).toUpperCase() + userItem.createdBy?.name.slice(1) || 'System'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => toggleActivity(userItem)}\n                          className=\"focus:outline-none\"\n                          title={userItem.isActive ? 'Deactivate' : 'Reactivate'}\n                        >\n                          {userItem.isActive ? (\n                            <ToggleRight className=\"text-green-500\" size={22} />\n                          ) : (\n                            <ToggleLeft className=\"text-gray-400\" size={22} />\n                          )}\n                        </button>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => handleEdit(userItem)}\n                          className=\"text-indigo-600 hover:text-indigo-900\"\n                          title=\"Edit Employee\"\n                        >\n                          <Edit size={16} />\n                        </button>\n                        <button\n                          onClick={() => handleDelete(userItem.id)}\n                          className=\"text-red-600 hover:text-red-900\"\n                          title=\"Delete Employee\"\n                        >\n                          <Trash2 size={16} />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">\n                {editingUser ? 'Edit Employee' : 'Create New Employee'}\n              </h3>\n              <button onClick={closeModal} className=\"text-gray-400 hover:text-gray-600\">\n                <X size={20} />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <label className=\"form-label\">Name</label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  className=\"form-input\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"form-label\">Email</label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"form-input\"\n                  required\n                />\n              </div>\n\n              {!editingUser && (\n                <div>\n                  <label className=\"form-label\">Password</label>\n                  <div className=\"relative\">\n                    <input\n                      type={showPassword ? 'text' : 'password'}\n                      value={formData.password}\n                      onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                      className=\"form-input\"\n                      required\n                      minLength=\"6\"\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                      onClick={togglePasswordVisibility}\n                    >\n                      {showPassword ? (\n                        <EyeOff className=\"h-4 w-4 text-gray-400\" />\n                      ) : (\n                        <Eye className=\"h-4 w-4 text-gray-400\" />\n                      )}\n                    </button>\n                  </div>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    {formData.password && !/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?]).+$/.test(formData.password)\n                      ? 'Password should include uppercase, lowercase, number, and special symbol.'\n                      : 'Minimum 8 characters'}\n                  </p>\n                </div>\n              )}\n\n              <div>\n                <label className=\"form-label flex items-center gap-2\">\n                  <Shield size={14} className=\"text-blue-600\" />\n                  Role\n                </label>\n                <select\n                  value={formData.roleId}\n                  onChange={(e) => setFormData({ ...formData, roleId: e.target.value })}\n                  className=\"form-select\"\n                  required\n                >\n                  <option value=\"\">Select a role</option>\n                  {availableRoles.map((role) => (\n                    <option key={role.id} value={role.id}>\n                      {role.name} {role.fullAccess ? '(Full Access)' : ''}\n                    </option>\n                  ))}\n                </select>\n                {availableRoles.length === 0 && (\n                  <p className=\"text-xs text-amber-600 mt-1\">\n                    No roles available. Please create roles in Settings first.\n                  </p>\n                )}\n              </div>\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={closeModal}\n                  className=\"btn btn-secondary\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                >\n                  {editingUser ? 'Update Employee' : 'Create Employee'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Employees"],"names":["Employees","user","useAuth","hasFullAccess","hasPermission","usePermissions","employees","setEmployees","useState","loading","setLoading","showModal","setShowModal","editingUser","setEditingUser","formData","setFormData","showPassword","setShowPassword","availableRoles","setAvailableRoles","rolesLoading","setRolesLoading","useEffect","fetchEmployees","fetchRoles","allRoles","axios","filteredRoles","error","togglePasswordVisibility","prev","response","toast","handleSubmit","e","updateData","createData","closeModal","errorMessage","handleEdit","employeeToEdit","handleDelete","employeeId","toggleActivity","userItem","newStatus","u","roleClassMap","canCreateEmployee","jsx","jsxs","UserPlus","index","ToggleRight","ToggleLeft","Edit","Trash2","X","EyeOff","Eye","Shield","role"],"mappings":"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"}