{"version":3,"file":"Services-Bwr4xWz6.js","sources":["../../node_modules/lucide-react/dist/esm/icons/building-2.js","../../node_modules/lucide-react/dist/esm/icons/mouse-pointer-click.js","../../node_modules/lucide-react/dist/esm/icons/target.js","../../node_modules/lucide-react/dist/esm/icons/user-x.js","../../src/components/dropCowboy/RecordsTable.jsx","../../src/components/dropCowboy/DropCowboyDashboard.jsx","../../src/components/mautic/MetricsCards.jsx","../../src/components/mautic/ClientSelector.jsx","../../src/components/mautic/RealCampaignsSection.jsx","../../src/components/mautic/CampaignsSection.jsx","../../src/components/mautic/SegmentsSection.jsx","../../src/components/mautic/MauticDashboard.jsx","../../src/pages/Services.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.552.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 12h4\", key: \"a56b0p\" }],\n  [\"path\", { d: \"M10 8h4\", key: \"1sr2af\" }],\n  [\"path\", { d: \"M14 21v-3a2 2 0 0 0-4 0v3\", key: \"1rgiei\" }],\n  [\n    \"path\",\n    {\n      d: \"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2\",\n      key: \"secmi2\"\n    }\n  ],\n  [\"path\", { d: \"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16\", key: \"16ra0t\" }]\n];\nconst Building2 = createLucideIcon(\"building-2\", __iconNode);\n\nexport { __iconNode, Building2 as default };\n//# sourceMappingURL=building-2.js.map\n","/**\n * @license lucide-react v0.552.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 4.1 12 6\", key: \"ita8i4\" }],\n  [\"path\", { d: \"m5.1 8-2.9-.8\", key: \"1go3kf\" }],\n  [\"path\", { d: \"m6 12-1.9 2\", key: \"mnht97\" }],\n  [\"path\", { d: \"M7.2 2.2 8 5.1\", key: \"1cfko1\" }],\n  [\n    \"path\",\n    {\n      d: \"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z\",\n      key: \"s0h3yz\"\n    }\n  ]\n];\nconst MousePointerClick = createLucideIcon(\"mouse-pointer-click\", __iconNode);\n\nexport { __iconNode, MousePointerClick as default };\n//# sourceMappingURL=mouse-pointer-click.js.map\n","/**\n * @license lucide-react v0.552.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n];\nconst Target = createLucideIcon(\"target\", __iconNode);\n\nexport { __iconNode, Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.552.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"17\", x2: \"22\", y1: \"8\", y2: \"13\", key: \"3nzzx3\" }],\n  [\"line\", { x1: \"22\", x2: \"17\", y1: \"8\", y2: \"13\", key: \"1swrse\" }]\n];\nconst UserX = createLucideIcon(\"user-x\", __iconNode);\n\nexport { __iconNode, UserX as default };\n//# sourceMappingURL=user-x.js.map\n","import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Phone,\n  Mail,\n  Building2,\n  Clock,\n  CheckCircle,\n  XCircle,\n  Minus,\n  Loader2,\n} from \"lucide-react\";\nimport { useAuth } from \"../../contexts/AuthContext\";\n\n// Backend API base URL\nconst API_BASE_URL = import.meta.env.VITE_API_URL || \"https://dev.hcddev.com\";\n\nconst RecordsTable = ({ campaigns }) => {\n  const { user } = useAuth();\n  const [serverRecords, setServerRecords] = useState([]);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loadingPage, setLoadingPage] = useState(false);\n  const [metrics, setMetrics] = useState({\n    totalVoicemailsSent: 0,\n    successfulDeliveries: 0,\n    deliveryRate: 0,\n    failedDeliveries: 0,\n    failureRate: 0,\n    otherStatus: 0,\n    otherStatusRate: 0,\n    totalCampaignCost: 0,\n  });\n  // Load last used page from localStorage\n  useEffect(() => {\n    try {\n      const saved = window.localStorage.getItem(\"dc_records_page\");\n      if (saved) {\n        const n = parseInt(saved, 10);\n        if (!Number.isNaN(n) && n >= 1) setCurrentPage(n);\n      }\n    } catch (e) {\n      // ignore\n    }\n  }, []);\n\n  // On mount, fetch the initial page (respect saved page)\n  useEffect(() => {\n    const saved = (() => {\n      try {\n        return (\n          parseInt(window.localStorage.getItem(\"dc_records_page\"), 10) || 1\n        );\n      } catch (e) {\n        return 1;\n      }\n    })();\n    fetchPage(saved);\n  }, []);\n\n  // Refs to capture/restore scroll ratio when changing pages\n  const tableContainerRef = useRef(null);\n  const scrollRatioRef = useRef(0);\n  const maintainScrollRef = useRef(false);\n  const [fadeIn, setFadeIn] = useState(true);\n\n  const goToPage = (page, opts = { maintain: undefined }) => {\n    const container = tableContainerRef.current;\n    if (container) {\n      const maxScroll = Math.max(\n        0,\n        container.scrollHeight - container.clientHeight\n      );\n      const scrolled = container.scrollTop;\n      scrollRatioRef.current = maxScroll > 0 ? scrolled / maxScroll : 0;\n      // decide whether to maintain based on opts or threshold\n      if (typeof opts.maintain === \"boolean\") {\n        maintainScrollRef.current = opts.maintain;\n      } else {\n        maintainScrollRef.current = scrolled > 100; // maintain if user scrolled down\n      }\n    } else {\n      scrollRatioRef.current = 0;\n      maintainScrollRef.current = false;\n    }\n    setCurrentPage(page);\n  };\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [clientFilter, setClientFilter] = useState(\"all\");\n  const [dateFilters, setDateFilters] = useState({\n    startDate: \"\",\n    endDate: \"\",\n  });\n  const [fetchLoading, setFetchLoading] = useState(false);\n  const [fetchMessage, setFetchMessage] = useState(\"\");\n\n  const recordsPerPage = 50; // Show 50 records per page\n\n  // Small reusable skeleton row used during fetch or pagination\n  const SkeletonRow = ({ compact = false }) => (\n    <tr className=\"opacity-100 animate-pulse\">\n      <td className=\"sticky left-0 bg-white px-3 py-3 border-r border-gray-200 z-10\">\n        <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\n      </td>\n      <td className=\"px-3 py-3\">\n        <div className=\"h-3 bg-gray-200 rounded w-32\" />\n      </td>\n      <td className=\"px-3 py-3 whitespace-nowrap\">\n        <div className=\"h-3 bg-gray-200 rounded w-24\" />\n      </td>\n      <td className=\"px-3 py-3 whitespace-nowrap\">\n        <div className=\"h-3 bg-gray-200 rounded w-20\" />\n      </td>\n      <td className=\"px-3 py-3 whitespace-nowrap\">\n        <div className=\"h-3 bg-gray-200 rounded w-16\" />\n      </td>\n      <td className=\"px-3 py-3\">\n        <div className=\"h-3 bg-gray-200 rounded w-16\" />\n      </td>\n      <td className=\"px-3 py-3\">\n        <div className=\"h-3 bg-gray-200 rounded w-16\" />\n      </td>\n      <td className=\"px-3 py-3\">\n        <div className=\"h-3 bg-gray-200 rounded w-28\" />\n      </td>\n    </tr>\n  );\n\n  // If campaigns prop is passed (from App.jsx filtered by client), use it as a fallback initial load\n  useEffect(() => {\n    if (campaigns && campaigns.length > 0 && serverRecords.length === 0) {\n      const records = campaigns.flatMap((campaign) =>\n        campaign.records.map((record) => ({\n          ...record,\n          campaignName: campaign.campaignName,\n          client: campaign.client || \"Unknown\",\n        }))\n      );\n      setServerRecords(records.slice(0, recordsPerPage));\n      setTotalRecords(records.length);\n    }\n  }, [campaigns]);\n\n  // compute unique clients for dropdown (from current page and fallback campaigns)\n  const clientOptions = Array.from(\n    new Set(\n      serverRecords\n        .map((r) => r.client || \"Unknown\")\n        .concat(\n          (campaigns || []).map((c) => c.client || \"Unknown\")\n        )\n    )\n  )\n    .filter(Boolean)\n    .sort((a, b) => a.localeCompare(b));\n\n  // When currentPage changes, animate rows and restore scroll position (or scroll to top)\n  useEffect(() => {\n    const container = tableContainerRef.current;\n    setFadeIn(false);\n    // small delay to allow DOM update\n    const t = setTimeout(() => {\n      setFadeIn(true);\n      if (container) {\n        try {\n          if (maintainScrollRef.current) {\n            const maxAfter = Math.max(\n              0,\n              container.scrollHeight - container.clientHeight\n            );\n            container.scrollTop = Math.round(scrollRatioRef.current * maxAfter);\n          } else {\n            container.scrollTo({ top: 0, behavior: \"smooth\" });\n          }\n        } catch (e) {}\n      }\n    }, 60);\n    return () => clearTimeout(t);\n  }, [currentPage]);\n\n  // Server-side pagination: current page records come from serverRecords, totalRecords tracks full count\n  const currentRecords = serverRecords;\n  const totalPages = Math.max(1, Math.ceil(totalRecords / recordsPerPage));\n\n  const getStatusIcon = (status) => {\n    const statusLower = status?.toLowerCase() || \"\";\n    if ([\"sent\", \"success\", \"delivered\"].includes(statusLower)) {\n      return <CheckCircle className=\"text-green-500\" size={18} />;\n    } else if ([\"failed\", \"failure\", \"error\"].includes(statusLower)) {\n      return <XCircle className=\"text-red-500\" size={18} />;\n    }\n    return <Minus className=\"text-gray-400\" size={18} />;\n  };\n\n  const getStatusBadge = (status) => {\n    const statusLower = status?.toLowerCase() || \"\";\n    if ([\"sent\", \"success\", \"delivered\"].includes(statusLower)) {\n      return (\n        <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\">\n          Delivered\n        </span>\n      );\n    } else if ([\"failed\", \"failure\", \"error\"].includes(statusLower)) {\n      return (\n        <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800\">\n          Failed\n        </span>\n      );\n    }\n    return (\n      <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800\">\n        {status || \"Unknown\"}\n      </span>\n    );\n  };\n\n  // Reset to page 1 when filters change\n  useEffect(() => {\n    fetchPage(1);\n  }, [searchTerm, statusFilter, dateFilters]);\n\n  // Reset when client filter changes as well\n  useEffect(() => {\n    fetchPage(1);\n  }, [clientFilter]);\n\n  // Page input state for 'Go to page'\n  const [gotoPageInput, setGotoPageInput] = useState(\"\");\n  const [gotoInvalid, setGotoInvalid] = useState(false);\n\n  const handleGoto = () => {\n    const n = parseInt(gotoPageInput, 10);\n    if (Number.isNaN(n)) return;\n    if (n < 1 || n > totalPages) {\n      setGotoInvalid(true);\n      return;\n    }\n    const page = n;\n    fetchPage(page);\n    setGotoPageInput(\"\");\n    setGotoInvalid(false);\n    try {\n      window.localStorage.setItem(\"dc_records_page\", String(page));\n    } catch (e) {}\n  };\n\n  // Clear invalid state when input changes\n  useEffect(() => {\n    if (gotoInvalid) setGotoInvalid(false);\n  }, [gotoPageInput]);\n\n  // Persist current page to localStorage so session remembers last page\n  useEffect(() => {\n    try {\n      window.localStorage.setItem(\"dc_records_page\", String(currentPage));\n    } catch (e) {}\n  }, [currentPage]);\n\n  // Fetch a page of records from backend\n  async function fetchPage(page = 1) {\n    setLoadingPage(true);\n    const limit = recordsPerPage;\n    const params = new URLSearchParams();\n    params.set(\"limit\", String(limit));\n    // Use page-based pagination (backend expects page + limit)\n    params.set(\"page\", String(page));\n    if (clientFilter && clientFilter !== \"all\")\n      params.set(\"client\", clientFilter);\n    if (dateFilters.startDate) params.set(\"startDate\", dateFilters.startDate);\n    if (dateFilters.endDate) params.set(\"endDate\", dateFilters.endDate);\n    if (statusFilter && statusFilter !== \"all\")\n      params.set(\"status\", statusFilter);\n    if (searchTerm) params.set(\"q\", searchTerm);\n\n    try {\n      // Use the Ringless Voicemail API records endpoint\n      const res = await fetch(\n        `${API_BASE_URL}/api/dropcowboy/records?${params.toString()}`\n      );\n      const json = await res.json();\n      if (json.success) {\n        const rows =\n          json.data && Array.isArray(json.data.records)\n            ? json.data.records\n            : [];\n        const total =\n          json.data && json.data.pagination\n            ? json.data.pagination.totalRecords || rows.length\n            : rows.length;\n\n        // Extract metrics from response\n        if (json.data && json.data.metrics) {\n          setMetrics(json.data.metrics);\n        }\n\n        // Normalize DB columns to the shape expected by the table\n        const normalized = rows.map((r) => {\n          return {\n            campaignName: r.campaignName || \"\",\n            client: r.client || \"Unknown\",\n            phoneNumber:\n              r.phoneNumber || r.phone_number || r.phone || r.phone_num || \"\",\n            firstName: r.firstName || r.first_name || r.first || \"\",\n            lastName: r.lastName || r.last_name || r.last || \"\",\n            email: r.email || r.email_address || \"\",\n            status: r.status || r.state || \"\",\n            date: r.date || r.created_at || r.timestamp || \"\",\n            __raw: r,\n          };\n        });\n\n        setServerRecords(normalized);\n        setTotalRecords(total || 0);\n        setCurrentPage(page);\n      } else {\n        console.error(\"Failed to fetch records:\", json.error);\n      }\n    } catch (err) {\n      console.error(\"Error fetching records:\", err);\n    } finally {\n      setLoadingPage(false);\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\n      {/* Header */}\n      <div className=\"px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-xl font-bold text-gray-900\">\n            Voicemail Campaign Records\n          </h3>\n          <button\n            onClick={async () => {\n              try {\n                setFetchLoading(true);\n                setFetchMessage(\"Refreshing data...\");\n                await fetchPage(currentPage || 1);\n                setFetchMessage(\"Data refreshed successfully\");\n              } catch (err) {\n                setFetchMessage(\"Error: \" + (err.message || \"unknown\"));\n              } finally {\n                setFetchLoading(false);\n                setTimeout(() => setFetchMessage(\"\"), 3000);\n              }\n            }}\n            disabled={fetchLoading}\n            className=\"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed transition-colors shadow-sm\"\n          >\n            {fetchLoading ? (\n              <Loader2 className=\"animate-spin\" size={16} />\n            ) : (\n              \"Refresh Data\"\n            )}\n          </button>\n        </div>\n\n        {/* All Filters in One Row */}\n        <div className=\"flex items-center gap-3 flex-wrap\">\n          {/* Search Input */}\n          <input\n            type=\"text\"\n            placeholder=\"Search by phone, name, email, campaign...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"flex-1 min-w-[250px] px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n          />\n\n          {/* Status Dropdown */}\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm bg-white\"\n          >\n            <option value=\"all\">All Status</option>\n            <option value=\"success\">Delivered</option>\n            <option value=\"failed\">Failed</option>\n            <option value=\"other\">Other</option>\n          </select>\n\n          {/* Client Dropdown */}\n          <select\n            value={clientFilter}\n            onChange={(e) => setClientFilter(e.target.value)}\n            className=\"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm bg-white\"\n          >\n            <option value=\"all\">All Clients</option>\n            {clientOptions.map((c) => (\n              <option key={c} value={c}>\n                {c}\n              </option>\n            ))}\n          </select>\n\n          {/* Date Range */}\n          <input\n            type=\"date\"\n            value={dateFilters.startDate}\n            onChange={(e) =>\n              setDateFilters((prev) => ({ ...prev, startDate: e.target.value }))\n            }\n            className=\"px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            aria-label=\"Start date\"\n          />\n          <span className=\"text-sm text-gray-500 font-medium\">to</span>\n          <input\n            type=\"date\"\n            value={dateFilters.endDate}\n            onChange={(e) =>\n              setDateFilters((prev) => ({ ...prev, endDate: e.target.value }))\n            }\n            className=\"px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            aria-label=\"End date\"\n          />\n\n          {/* Clear Dates Button */}\n          {(dateFilters.startDate || dateFilters.endDate) && (\n            <button\n              onClick={() => setDateFilters({ startDate: \"\", endDate: \"\" })}\n              className=\"px-3 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n              title=\"Clear dates\"\n            >\n              Clear\n            </button>\n          )}\n        </div>\n\n        {/* Stats & Message */}\n        <div className=\"mt-4 flex items-center justify-between\">\n          <div className=\"flex flex-wrap gap-4 text-sm text-gray-600\">\n            {loadingPage ? (\n              <>\n                <div className=\"h-4 w-32 bg-gray-200 rounded animate-pulse\" />\n                <div className=\"h-4 w-20 bg-gray-200 rounded animate-pulse\" />\n              </>\n            ) : (\n              <>\n                <span>\n                  Total:{\" \"}\n                  <strong className=\"text-blue-600 font-semibold\">\n                    {totalRecords.toLocaleString()}\n                  </strong>{\" \"}\n                  records\n                </span>\n                <span className=\"text-gray-400\">â€¢</span>\n                <span>\n                  Page:{\" \"}\n                  <strong className=\"text-blue-600 font-semibold\">\n                    {currentPage}/{totalPages}\n                  </strong>\n                </span>\n                <span className=\"text-gray-400\">â€¢</span>\n                <span>\n                  Showing:{\" \"}\n                  <strong className=\"text-blue-600 font-semibold\">\n                    {currentRecords.length}\n                  </strong>{\" \"}\n                  per page\n                </span>\n              </>\n            )}\n          </div>\n          {fetchMessage && (\n            <div className=\"text-sm text-green-600 font-medium bg-green-50 px-3 py-1 rounded-lg\">\n              {fetchMessage}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Metrics Cards - Filtered Campaign Metrics */}\n      <div className=\"px-6 py-5 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 border-b border-gray-200\">\n        <h4 className=\"text-sm font-bold text-gray-700 uppercase tracking-wide mb-4\">\n          Filtered Campaign Metrics\n        </h4>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          {/* Total Voicemails Sent */}\n          <div className=\"bg-white rounded-lg p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow\">\n            <div className=\"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1\">\n              Total Voicemails Sent\n            </div>\n            <div className=\"text-2xl font-bold text-gray-900\">\n              {metrics.totalVoicemailsSent.toLocaleString()}\n            </div>\n            <div className=\"text-xs text-gray-500 mt-1\">\n              Ringless voicemails\n            </div>\n          </div>\n\n          {/* Successful Deliveries */}\n          <div className=\"bg-white rounded-lg p-4 shadow-sm border border-green-200 hover:shadow-md transition-shadow\">\n            <div className=\"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1\">\n              Successful Deliveries\n            </div>\n            <div className=\"text-2xl font-bold text-green-600\">\n              {metrics.successfulDeliveries.toLocaleString()}\n            </div>\n            <div className=\"text-xs text-green-600 font-semibold mt-1\">\n              {metrics.deliveryRate}% delivery rate\n            </div>\n          </div>\n\n          {/* Failed Deliveries */}\n          <div className=\"bg-white rounded-lg p-4 shadow-sm border border-red-200 hover:shadow-md transition-shadow\">\n            <div className=\"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1\">\n              Failed Deliveries\n            </div>\n            <div className=\"text-2xl font-bold text-red-600\">\n              {metrics.failedDeliveries.toLocaleString()}\n            </div>\n            <div className=\"text-xs text-red-600 font-semibold mt-1\">\n              {metrics.failureRate}% failure rate\n            </div>\n          </div>\n\n          {/* Other Status */}\n          <div className=\"bg-white rounded-lg p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow\">\n            <div className=\"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1\">\n              Other Status\n            </div>\n            <div className=\"text-2xl font-bold text-gray-600\">\n              {metrics.otherStatus.toLocaleString()}\n            </div>\n            <div className=\"text-xs text-gray-500 font-semibold mt-1\">\n              {metrics.otherStatusRate}% other status\n            </div>\n          </div>\n        </div>\n\n        {/* Total Campaign Cost - Only visible to superadmin */}\n        {user && user.role === \"superadmin\" && (\n          <div className=\"mt-4 bg-white rounded-lg p-4 shadow-sm border border-blue-200 hover:shadow-md transition-shadow\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">\n                Total Campaign Cost\n              </div>\n              <div className=\"text-2xl font-bold text-blue-600\">\n                ${metrics.totalCampaignCost.toFixed(2)}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Table - vertically scrollable viewport with sticky pagination footer */}\n      <div\n        className=\"overflow-x-auto overflow-y-auto max-h-[65vh] relative\"\n        ref={tableContainerRef}\n      >\n        {/* Responsive table with optimized column widths */}\n        <table className=\"w-full min-w-max\">\n          <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-300\">\n            <tr>\n              <th className=\"sticky top-0 left-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide border-r border-gray-200 z-30 min-w-[100px] max-w-[120px]\">\n                Client\n              </th>\n              <th className=\"sticky top-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide whitespace-nowrap z-20 min-w-[180px] max-w-[200px]\">\n                Campaign\n              </th>\n              <th className=\"sticky top-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide whitespace-nowrap z-20 min-w-[130px] max-w-[140px]\">\n                Phone\n              </th>\n              <th className=\"sticky top-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide z-20 min-w-[110px] max-w-[120px]\">\n                Status\n              </th>\n              <th className=\"sticky top-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide z-20 min-w-[100px] max-w-[110px]\">\n                Date\n              </th>\n              <th className=\"sticky top-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide whitespace-nowrap z-20 min-w-[100px] max-w-[120px]\">\n                First Name\n              </th>\n              <th className=\"sticky top-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide whitespace-nowrap z-20 min-w-[100px] max-w-[120px]\">\n                Last Name\n              </th>\n              <th className=\"sticky top-0 bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wide z-20 min-w-[180px] max-w-[220px]\">\n                Email\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-100\">\n            {fetchLoading ? (\n              // Skeleton rows while fetch is running\n              [...Array(recordsPerPage)].map((_, i) => (\n                <SkeletonRow key={`skeleton-fetch-${i}`} />\n              ))\n            ) : loadingPage ? (\n              // Use compact skeletons for pagination transition\n              [...Array(Math.min(recordsPerPage, 10))].map((_, i) => (\n                <SkeletonRow key={`skeleton-page-${i}`} compact />\n              ))\n            ) : currentRecords.length === 0 ? (\n              <tr>\n                <td colSpan=\"9\" className=\"px-6 py-16 text-center\">\n                  <div className=\"text-gray-400 text-sm\">\n                    <div className=\"text-4xl mb-2\">ðŸ“­</div>\n                    <div className=\"font-medium\">No records found</div>\n                    <div className=\"text-xs mt-1\">\n                      Try adjusting your filters\n                    </div>\n                  </div>\n                </td>\n              </tr>\n            ) : (\n              currentRecords.map((record, index) => (\n                <tr\n                  key={index}\n                  className={`hover:bg-blue-50/50 transition-all duration-200 ${\n                    fadeIn ? \"opacity-100\" : \"opacity-0\"\n                  } border-b border-gray-100 last:border-0`}\n                >\n                  <td className=\"sticky left-0 bg-white hover:bg-blue-50/50 px-3 py-3 border-r border-gray-100 z-10\">\n                    <div className=\"flex items-center gap-1.5\">\n                      <Building2\n                        size={13}\n                        className=\"text-gray-400 flex-shrink-0\"\n                      />\n                      <div\n                        className=\"text-xs text-gray-900 font-semibold overflow-hidden truncate\"\n                        title={record.client}\n                      >\n                        {record.client || \"-\"}\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-3 py-3\">\n                    <div\n                      className=\"text-xs text-gray-900 font-medium overflow-hidden truncate\"\n                      title={record.campaignName}\n                    >\n                      {record.campaignName || \"-\"}\n                    </div>\n                  </td>\n                  <td className=\"px-3 py-3 whitespace-nowrap\">\n                    <div className=\"flex items-center gap-1.5 text-xs text-gray-900 font-mono\">\n                      <Phone\n                        size={12}\n                        className=\"text-blue-500 flex-shrink-0\"\n                      />\n                      <span className=\"overflow-hidden truncate\">\n                        {record.phoneNumber || \"-\"}\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"px-3 py-3 whitespace-nowrap\">\n                    {getStatusBadge(record.status)}\n                  </td>\n                  <td className=\"px-3 py-3 whitespace-nowrap\">\n                    <div className=\"flex items-center gap-1.5 text-xs text-gray-700\">\n                      <Clock\n                        size={12}\n                        className=\"text-gray-400 flex-shrink-0\"\n                      />\n                      <span className=\"font-medium\">\n                        {record.date\n                          ? new Date(record.date).toLocaleDateString(\"en-US\", {\n                              month: \"short\",\n                              day: \"numeric\",\n                            })\n                          : \"-\"}\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"px-3 py-3\">\n                    <div\n                      className=\"text-xs text-gray-700 font-medium overflow-hidden truncate\"\n                      title={record.firstName}\n                    >\n                      {record.firstName || \"-\"}\n                    </div>\n                  </td>\n                  <td className=\"px-3 py-3\">\n                    <div\n                      className=\"text-xs text-gray-700 font-medium overflow-hidden truncate\"\n                      title={record.lastName}\n                    >\n                      {record.lastName || \"-\"}\n                    </div>\n                  </td>\n                  <td className=\"px-3 py-3\">\n                    <div className=\"flex items-center gap-1.5 text-xs text-gray-600\">\n                      <Mail size={12} className=\"text-gray-400 flex-shrink-0\" />\n                      <span\n                        className=\"overflow-hidden truncate\"\n                        title={record.email}\n                      >\n                        {record.email || \"-\"}\n                      </span>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n        {/* Sticky pagination footer inside table viewport */}\n        {totalRecords > recordsPerPage && (\n          <div className=\"sticky bottom-0 left-0 right-0 bg-gradient-to-r from-gray-50 to-white backdrop-blur-sm border-t-2 border-gray-200 px-6 py-4 flex items-center justify-between z-10 shadow-lg\">\n            <div className=\"text-sm text-gray-700 font-medium\">\n              Showing{\" \"}\n              <span className=\"font-bold text-blue-600\">\n                {(currentPage - 1) * recordsPerPage + 1}\n              </span>{\" \"}\n              to{\" \"}\n              <span className=\"font-bold text-blue-600\">\n                {Math.min(currentPage * recordsPerPage, totalRecords)}\n              </span>{\" \"}\n              of{\" \"}\n              <span className=\"font-bold text-blue-600\">\n                {totalRecords.toLocaleString()}\n              </span>{\" \"}\n              records\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => fetchPage(1)}\n                disabled={currentPage === 1}\n                className=\"px-3 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-300 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-sm\"\n                title=\"First Page\"\n              >\n                Â«Â«\n              </button>\n\n              <button\n                onClick={() => fetchPage(Math.max(1, currentPage - 1))}\n                disabled={currentPage === 1}\n                className=\"px-4 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-300 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-sm\"\n              >\n                Previous\n              </button>\n\n              <div\n                className=\"px-4 py-2 text-sm font-bold text-gray-900 bg-blue-50 border border-blue-200 rounded-lg\"\n                title={`Total pages: ${totalPages}`}\n              >\n                Page {currentPage} of {totalPages}\n              </div>\n\n              <button\n                onClick={() => fetchPage(Math.min(totalPages, currentPage + 1))}\n                disabled={currentPage === totalPages}\n                className=\"px-4 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-300 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-sm\"\n              >\n                Next\n              </button>\n\n              <button\n                onClick={() => fetchPage(totalPages)}\n                disabled={currentPage === totalPages}\n                className=\"px-3 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-300 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-sm\"\n                title=\"Last Page\"\n              >\n                Â»Â»\n              </button>\n\n              <div className=\"flex items-center gap-2 ml-3 pl-3 border-l-2 border-gray-300\">\n                <span className=\"text-xs text-gray-600 font-medium\">\n                  Jump to:\n                </span>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max={totalPages}\n                  value={gotoPageInput}\n                  onChange={(e) => setGotoPageInput(e.target.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Enter\") handleGoto();\n                  }}\n                  placeholder=\"Page #\"\n                  className={`w-20 px-3 py-2 rounded-lg text-sm font-medium border focus:ring-2 focus:ring-blue-500 ${\n                    gotoInvalid\n                      ? \"border-red-500 ring-1 ring-red-300\"\n                      : \"border-gray-300\"\n                  }`}\n                />\n                <button\n                  onClick={handleGoto}\n                  className=\"px-4 py-2 text-sm font-semibold bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm\"\n                >\n                  Go\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RecordsTable;\n","/**\n * Ringless Voicemail Dashboard Container Component\n * \n * Clean, modular implementation of Ringless Voicemail dashboard\n * Uses custom hooks and service layer for separation of concerns\n */\n\n\nimport React, { useState, useEffect } from 'react';\nimport { Activity, AlertCircle, RefreshCw } from 'lucide-react';\nimport { format, parseISO } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport MetricsCards from './MetricsCards';\nimport RecordsTable from './RecordsTable';\nimport ErrorBoundary from './ErrorBoundary';\nimport { useMetrics, useSyncLogs, useManualFetch } from '../../hooks/dropCowboy/useDropCowboy';\nimport { extractUniqueClients } from '../../utils/dropCowboy/helpers';\n\n/**\n * Main Ringless Voicemail Dashboard Component\n * Embeddable in the main app's Services page\n * \n * @param {Array} clientCampaigns - Optional: Filter to specific campaign IDs for a client\n * @param {String} clientName - Optional: Display client name in header\n */\nexport default function DropCowboyDashboard({ clientCampaigns = null, clientName = null }) {\n    const [selectedClient, setSelectedClient] = useState('All');\n    const [clientOptions, setClientOptions] = useState(['All']);\n    // Records table filters (lifted from RecordsTable)\n    const [searchTerm, setSearchTerm] = useState('');\n    const [statusFilter, setStatusFilter] = useState('all');\n    const [recordsClientFilter, setRecordsClientFilter] = useState('all');\n    const [dateFilters, setDateFilters] = useState({ startDate: '', endDate: '' });\n\n    // Debounced search to avoid rapid-fire fetches while typing\n    const [debouncedSearch, setDebouncedSearch] = useState(searchTerm);\n    useEffect(() => {\n        const t = setTimeout(() => setDebouncedSearch(searchTerm), 300);\n        return () => clearTimeout(t);\n    }, [searchTerm]);\n\n    // Memoize filters object so child doesn't receive a new object each render\n    const recordsFilters = React.useMemo(() => ({\n        searchTerm: debouncedSearch,\n        statusFilter,\n        clientFilter: recordsClientFilter,\n        dateFilters\n    }), [debouncedSearch, statusFilter, recordsClientFilter, dateFilters]);\n\n    // Records table meta (updated by RecordsTable via onMetaChange)\n    const [recordsMeta, setRecordsMeta] = useState({\n        totalRecords: 0,\n        currentPage: 1,\n        totalPages: 1,\n        currentRecordsLength: 0,\n        loadingPage: false,\n        fetchMessage: ''\n    });\n\n    // Use custom hooks for data fetching - pass campaign filter if provided\n    const initialFilters = clientCampaigns ? { campaignIds: clientCampaigns } : {};\n    const { metrics, loading, error, refetch: refetchMetrics, setFilters: _setFilters, filters: _filters } = useMetrics(initialFilters);\n    const { syncLogs, refetch: refetchSyncLogs } = useSyncLogs(10);\n    const { triggerFetch, isFetching, error: fetchError } = useManualFetch();\n\n    // Extract unique clients when metrics change\n    useEffect(() => {\n        if (metrics?.campaigns) {\n            const clients = extractUniqueClients(metrics.campaigns);\n            setClientOptions(clients);\n        }\n    }, [metrics]);\n\n    // Auto-refresh data every 50 minutes\n    useEffect(() => {\n        const interval = setInterval(() => {\n            refetchMetrics();\n            refetchSyncLogs();\n        }, 50 * 60 * 1000);\n        return () => clearInterval(interval);\n    }, [refetchMetrics, refetchSyncLogs]);\n\n    // Handle manual SFTP fetch\n    const handleFetchNow = async () => {\n        toast.info('Starting SFTP sync... This may take 30-60 seconds.', { autoClose: 3000 });\n\n        const result = await triggerFetch();\n\n        if (result.success) {\n            // Reload data after successful fetch\n            await refetchMetrics();\n            await refetchSyncLogs();\n\n            if (result.data?.warning) {\n                toast.warning(result.data.warning, { autoClose: 5000 });\n            } else if (result.data?.filesDownloaded > 0) {\n                toast.success(`Successfully fetched ${result.data.filesDownloaded} files from SFTP!`, { autoClose: 5000 });\n            } else {\n                toast.info('Sync completed - using existing data.', { autoClose: 3000 });\n            }\n        } else {\n            toast.error('Failed to fetch data: ' + (result.error || 'Unknown error'), { autoClose: 5000 });\n        }\n    };\n\n    // (no-op) date filter handling for metrics uses `setFilters` from useMetrics when needed\n\n    // Filter campaigns by client (for metrics/cards and campaigns list)\n    const filteredCampaigns = metrics?.campaigns?.filter(\n        c => selectedClient === 'All' || c.client === selectedClient\n    ) || [];\n\n    return (\n        <ErrorBoundary>\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n                {/* Page Header */}\n                <div className=\"mb-6\">\n                    <h1 className=\"text-2xl font-bold text-gray-900\">Ringless Voicemail Dashboard</h1>\n                </div>\n\n                {/* Error Messages */}\n                {(error || fetchError) && (\n                    <div className=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start\">\n                        <AlertCircle className=\"text-red-600 mr-3 flex-shrink-0 mt-0.5\" size={18} />\n                        <p className=\"text-sm text-red-800 leading-relaxed\">\n                            {error || fetchError}\n                        </p>\n                    </div>\n                )}\n\n                {/* Minimal Action Bar */}\n                <div className=\"mb-6 flex items-center justify-between gap-4 bg-white p-3 rounded-lg shadow-sm border border-gray-200\">\n                    <div className=\"flex items-center gap-4\">\n                        {/* Last Sync Info - Compact */}\n                        {syncLogs.length > 0 && syncLogs[0] && (\n                            <div className=\"text-xs text-gray-500\">\n                                Last sync: {format(parseISO(syncLogs[0].timestamp), 'MMM dd, h:mm a')}\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Action Buttons */}\n                    <div className=\"flex items-center gap-2\">\n                        <button\n                            onClick={handleFetchNow}\n                            disabled={isFetching}\n                            className=\"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n                        >\n                            <RefreshCw className={`w-4 h-4 ${isFetching ? 'animate-spin' : ''}`} />\n                            {isFetching ? 'Fetching...' : 'Fetch from SFTP'}\n                        </button>\n                    </div>\n                </div>\n\n                                \n\n                                {/* Loading State */}\n                {loading && !metrics ? (\n                    <div className=\"flex items-center justify-center h-96\">\n                        <div className=\"text-center\">\n                            <Activity className=\"animate-spin mx-auto mb-4 text-blue-600\" size={40} />\n                            <p className=\"text-gray-600 text-sm font-medium\">Loading dashboard...</p>\n                        </div>\n                    </div>\n                ) : (\n                    <div className=\"space-y-6\">\n                        {/* Metrics Cards */}\n\n                                                {/* All Records Table */}\n                                                                        <RecordsTable\n                                                                            campaigns={filteredCampaigns}\n                                                                            filters={recordsFilters}\n                                                                            onMetaChange={(meta) => setRecordsMeta(meta)}\n                                                                        />\n                    </div>\n                )}\n            </div>\n        </ErrorBoundary>\n    );\n}","/**\n * Metrics Cards Component\n * \n * Display key metrics in card format\n */\n\nimport { Users, Mail, List, Send } from 'lucide-react';\nimport { formatNumber } from '../../utils/mautic';\n\nexport default function MetricsCards({ metrics }) {\n  const { overview, emailStats } = metrics;\n\n  const cards = [\n    {\n      title: 'Total Emails',\n      value: formatNumber(overview.totalEmails),\n      icon: Mail,\n      color: 'bg-indigo-500',\n      subtitle: `${formatNumber(emailStats.totalSent)} sent to contacts`\n    },\n    {\n      title: 'Total Campaigns',\n      value: formatNumber(overview.totalCampaigns || 0),\n      icon: Send,\n      color: 'bg-purple-500',\n      subtitle: 'Marketing campaigns'\n    },\n    {\n      title: 'Total Segments',\n      value: formatNumber(overview.totalSegments),\n      icon: List,\n      color: 'bg-green-500',\n      subtitle: `Across ${overview.clients} client${overview.clients !== 1 ? 's' : ''}`\n    }\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {cards.map((card, index) => {\n        const Icon = card.icon;\n        return (\n          <div\n            key={index}\n            className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\"\n          >\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-gray-600 mb-1\">\n                  {card.title}\n                </p>\n                <p className=\"text-3xl font-bold text-gray-900\">\n                  {card.value}\n                </p>\n                <p className=\"text-xs text-gray-500 mt-2\">\n                  {card.subtitle}\n                </p>\n              </div>\n              <div className={`${card.color} p-3 rounded-lg`}>\n                <Icon className=\"text-white\" size={24} />\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}","/**\n * Client Selector Component\n */\n\nimport React from 'react';\n\nexport default function ClientSelector({ clients, selectedClientId, onChange }) {\n    return (\n        <div className=\"flex items-center gap-2\">\n            <label className=\"text-sm font-medium text-gray-700\">Client:</label>\n            <select\n                value={selectedClientId || ''}\n                onChange={(e) => onChange(e.target.value ? parseInt(e.target.value) : null)}\n                className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n                <option value=\"\">All Clients</option>\n                {clients.map(client => (\n                    <option key={client.id} value={client.id}>\n                        {client.name}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n}","/**\n * Real Campaigns Section Component\n * \n * Displays actual Mautic campaigns (marketing campaign containers)\n * Not to be confused with individual email templates\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Target, Calendar, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { useCampaigns } from '../../hooks/mautic';\nimport { formatDate } from '../../utils/mautic';\n\nexport default function RealCampaignsSection({ clientId, refreshKey }) {\n  const [page, setPage] = useState(1);\n  const [limit] = useState(20);\n  \n  const { campaigns, pagination, loading, error, refetch } = useCampaigns({ \n    clientId: clientId,\n    page, \n    limit \n  });\n\n  // Reset page when client changes\n  useEffect(() => {\n    setPage(1);\n  }, [clientId]);\n\n  // Refetch when a global refresh is requested (e.g., after sync)\n  useEffect(() => {\n    if (refreshKey) refetch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [refreshKey]);\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-3 text-gray-600\">Loading campaigns...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <div className=\"text-center text-red-600\">\n          <p className=\"font-medium\">Error loading campaigns</p>\n          <p className=\"text-sm mt-1\">{error}</p>\n          <button \n            onClick={refetch}\n            className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900\">\n            Marketing Campaigns\n          </h3>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            {pagination?.total || 0} total campaigns\n          </p>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  ID\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Campaign Name\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Client\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Category\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Created\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {campaigns && campaigns.length > 0 ? (\n                campaigns.map((campaign) => (\n                  <tr key={campaign.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-mono text-gray-900\">\n                        {campaign.mauticCampaignId}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {campaign.name}\n                        </div>\n                        {campaign.description && (\n                          <div className=\"text-xs text-gray-500 mt-1 max-w-md truncate\">\n                            {campaign.description}\n                          </div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">{campaign.client?.name || 'N/A'}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-600\">\n                        {campaign.category || 'Uncategorized'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {campaign.isPublished ? (\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                          Published\n                        </span>\n                      ) : (\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                          Draft\n                        </span>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center text-sm text-gray-600\">\n                        <Calendar className=\"w-4 h-4 mr-1\" />\n                        {formatDate(campaign.dateAdded)}\n                      </div>\n                      {campaign.createdBy && (\n                        <div className=\"text-xs text-gray-500 mt-1\">\n                          by {campaign.createdBy}\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan=\"6\" className=\"px-6 py-12 text-center\">\n                    <Target className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n                    <p className=\"text-gray-500 font-medium\">No campaigns found</p>\n                    <p className=\"text-sm text-gray-400 mt-1\">\n                      Campaigns will appear here after syncing\n                    </p>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Pagination */}\n        {pagination && pagination.totalPages > 1 && (\n          <div className=\"bg-gray-50 px-6 py-4 border-t border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm text-gray-600\">\n                Showing {((pagination.page - 1) * pagination.limit) + 1} to{' '}\n                {Math.min(pagination.page * pagination.limit, pagination.total)} of{' '}\n                {pagination.total} campaigns\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={() => setPage(p => Math.max(1, p - 1))}\n                  disabled={pagination.page === 1}\n                  className=\"inline-flex items-center gap-1 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <ChevronLeft className=\"w-4 h-4\" />\n                  Previous\n                </button>\n                \n                <span className=\"text-sm text-gray-600\">\n                  Page {pagination.page} of {pagination.totalPages}\n                </span>\n                \n                <button\n                  onClick={() => setPage(p => Math.min(pagination.totalPages, p + 1))}\n                  disabled={pagination.page === pagination.totalPages}\n                  className=\"inline-flex items-center gap-1 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Next\n                  <ChevronRight className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","/**\n * Campaigns Section Component\n * \n * Full list of email campaigns with pagination and stats\n */\n\nimport { useState, useEffect } from 'react';\nimport { Mail, TrendingUp, Eye, MousePointerClick, UserX, ChevronLeft, ChevronRight, Search } from 'lucide-react';\nimport { useEmails } from '../../hooks/mautic';\nimport { formatNumber, formatPercentage, formatDate } from '../../utils/mautic';\n\nexport default function CampaignsSection({ clientId, refreshKey }) {\n    const [page, setPage] = useState(1);\n    const [limit] = useState(20);\n\n    // If clientId is null or undefined, don't pass it (will fetch all clients' emails)\n    const { emails, pagination, loading, error, refetch } = useEmails({\n        clientId: clientId || undefined,\n        page,\n        limit\n    });\n\n    // Reset page when client changes\n    useEffect(() => {\n        setPage(1);\n    }, [clientId]);\n\n    // Refetch when a global refresh is requested (e.g., after sync)\n    useEffect(() => {\n        if (refreshKey) refetch();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [refreshKey]);\n\n    if (loading) {\n        return (\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n                <div className=\"flex items-center justify-center\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n                    <span className=\"ml-3 text-gray-600\">Loading campaigns...</span>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n                <p className=\"text-red-600 text-center\">{error}</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n            {/* Header */}\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                    <div>\n                        <h3 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                            <Mail className=\"text-purple-600\" size={20} />\n                            Email Campaigns\n                        </h3>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                            {pagination?.total || 0} total campaigns\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Table */}\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Campaign Name\n                            </th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Client\n                            </th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Status\n                            </th>\n                            <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Sent\n                            </th>\n                            <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Open Rate\n                            </th>\n                            <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Click Rate\n                            </th>\n                            <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Unsubscribe\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {emails && emails.length > 0 ? (\n                            emails.map((email) => (\n                                <tr key={email.id} className=\"hover:bg-gray-50\">\n                                    <td className=\"px-6 py-4\">\n                                        <div>\n                                            <div className=\"text-sm font-medium text-gray-900\">\n                                                {email.name}\n                                            </div>\n                                            {email.subject && (\n                                                <div className=\"text-xs text-gray-500 mt-1\">\n                                                    {email.subject}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                                        <div className=\"text-sm text-gray-900\">{email.client?.name || 'N/A'}</div>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                                        {email.isPublished ? (\n                                            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                                                Published\n                                            </span>\n                                        ) : (\n                                            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                                                Draft\n                                            </span>\n                                        )}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                                        <div className=\"text-sm text-gray-900\">{formatNumber(email.sentCount)}</div>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                                        <div className=\"flex items-center justify-end gap-1\">\n                                            <Eye size={14} className=\"text-gray-400\" />\n                                            <span className=\"text-sm font-medium text-gray-900\">\n                                                {formatPercentage(email.readRate)}\n                                            </span>\n                                        </div>\n                                        <div className=\"text-xs text-gray-500\">\n                                            {formatNumber(email.readCount)} opens\n                                        </div>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                                        <div className=\"flex items-center justify-end gap-1\">\n                                            <MousePointerClick size={14} className=\"text-gray-400\" />\n                                            <span className=\"text-sm font-medium text-gray-900\">\n                                                {formatPercentage(email.clickRate)}\n                                            </span>\n                                        </div>\n                                        <div className=\"text-xs text-gray-500\">\n                                            {formatNumber(email.clickedCount)} clicks\n                                        </div>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                                        <div className=\"flex items-center justify-end gap-1\">\n                                            <UserX size={14} className=\"text-red-400\" />\n                                            <span className=\"text-sm font-medium text-gray-900\">\n                                                {formatPercentage(email.unsubscribeRate)}\n                                            </span>\n                                        </div>\n                                        <div className=\"text-xs text-gray-500\">\n                                            {formatNumber(email.unsubscribed)} unsubs\n                                        </div>\n                                    </td>\n                                </tr>\n                            ))\n                        ) : (\n                            <tr>\n                                <td colSpan=\"7\" className=\"px-6 py-8 text-center text-gray-500\">\n                                    No campaigns found\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </table>\n            </div>\n\n            {/* Pagination */}\n            {pagination && pagination.totalPages > 1 && (\n                <div className=\"px-6 py-4 border-t border-gray-200 flex items-center justify-between\">\n                    <div className=\"text-sm text-gray-700\">\n                        Showing {((pagination.page - 1) * pagination.limit) + 1} to{' '}\n                        {Math.min(pagination.page * pagination.limit, pagination.total)} of{' '}\n                        {pagination.total} campaigns\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                        <button\n                            onClick={() => setPage(page - 1)}\n                            disabled={page === 1}\n                            className=\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                            <ChevronLeft size={16} />\n                        </button>\n                        <span className=\"text-sm text-gray-700\">\n                            Page {pagination.page} of {pagination.totalPages}\n                        </span>\n                        <button\n                            onClick={() => setPage(page + 1)}\n                            disabled={page === pagination.totalPages}\n                            className=\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                            <ChevronRight size={16} />\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}","/**\n * Segments Section Component\n * \n * Full list of segments/lists with pagination\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { List, Users, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { useSegments } from '../../hooks/mautic';\nimport { formatNumber, formatDate } from '../../utils/mautic';\n\nexport default function SegmentsSection({ clientId, refreshKey }) {\n  const [page, setPage] = useState(1);\n  const [limit] = useState(20);\n  \n  // If clientId is null or undefined, fetch all clients' segments\n  const { segments, pagination, loading, error, refetch } = useSegments({ \n    clientId: clientId || undefined, \n    page, \n    limit \n  });\n\n  // Reset page when client changes\n  useEffect(() => {\n    setPage(1);\n  }, [clientId]);\n\n  // Refetch when a global refresh is requested (e.g., after sync)\n  useEffect(() => {\n    if (refreshKey) refetch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [refreshKey]);\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-3 text-gray-600\">Loading segments...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <p className=\"text-red-600 text-center\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n      {/* Header */}\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n              <List className=\"text-green-600\" size={20} />\n              Segments & Lists\n            </h3>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              {pagination?.total || 0} total segments\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Segment Name\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Client\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Type\n              </th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Contacts\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Created\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {segments && segments.length > 0 ? (\n              segments.map((segment) => (\n                <tr key={segment.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <div>\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {segment.name}\n                      </div>\n                      {segment.description && (\n                        <div className=\"text-xs text-gray-500 mt-1 max-w-md truncate\">\n                          {segment.description}\n                        </div>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">{segment.client?.name || 'N/A'}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                      {segment.isGlobal ? 'Global' : 'Regular'}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                    <div className=\"flex items-center justify-end gap-1\">\n                      <Users size={14} className=\"text-gray-400\" />\n                      <span className=\"text-sm font-medium text-gray-900\">\n                        {formatNumber(segment.contactCount)}\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {segment.isPublished ? (\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                        Published\n                      </span>\n                    ) : (\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                        Draft\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">\n                      {segment.dateAdded ? formatDate(segment.dateAdded) : 'N/A'}\n                    </div>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"6\" className=\"px-6 py-8 text-center text-gray-500\">\n                  No segments found\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Pagination */}\n      {pagination && pagination.totalPages > 1 && (\n        <div className=\"px-6 py-4 border-t border-gray-200 flex items-center justify-between\">\n          <div className=\"text-sm text-gray-700\">\n            Showing {((pagination.page - 1) * pagination.limit) + 1} to{' '}\n            {Math.min(pagination.page * pagination.limit, pagination.total)} of{' '}\n            {pagination.total} segments\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setPage(page - 1)}\n              disabled={page === 1}\n              className=\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ChevronLeft size={16} />\n            </button>\n            <span className=\"text-sm text-gray-700\">\n              Page {pagination.page} of {pagination.totalPages}\n            </span>\n            <button\n              onClick={() => setPage(page + 1)}\n              disabled={page === pagination.totalPages}\n              className=\"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ChevronRight size={16} />\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * Autovation  Dashboard  DashboardComponent\n * \n * Main dashboard showing metrics and overview for Mautic integration\n */\n\nimport React, { useState } from 'react';\nimport { RefreshCw, AlertCircle, Mail, List, Target } from 'lucide-react';\nimport { toast } from 'react-toastify';\nimport { useDashboardMetrics, useClients, useSync } from '../../hooks/mautic';\nimport MetricsCards from './MetricsCards';\nimport ClientSelector from './ClientSelector';\nimport RealCampaignsSection from './RealCampaignsSection';\nimport CampaignsSection from './CampaignsSection'; // This shows Emails\nimport SegmentsSection from './SegmentsSection';\n\nexport default function MauticDashboard({ clientId = null, clientName = null }) {\n  // If clientId is provided (from ClientDashboard), use it and lock it\n  const [selectedClientId, setSelectedClientId] = useState(clientId);\n  \n  const [activeTab, setActiveTab] = useState('campaigns'); // 'campaigns', 'emails', 'segments'\n  \n  const { clients, loading: clientsLoading, refetch: refetchClients } = useClients();\n  const { metrics, loading, error, refetch } = useDashboardMetrics(selectedClientId || clientId);\n  const { syncAllClients, syncClient, isSyncing } = useSync();\n  const [refreshKey, setRefreshKey] = useState(Date.now());\n  \n  // Hide client selector if clientId is provided (viewing single client)\n  const isClientLocked = clientId !== null;\n\n  const handleSync = async () => {\n    // Show initial message with client count\n    if (selectedClientId) {\n      const confirmMessage = 'This will sync data from the selected client. Depending on the data size, this may take 1-2 minutes. Continue?';\n      if (!window.confirm(confirmMessage)) {\n        return;\n      }\n      toast.info('Starting Mautic sync... Please wait.', { autoClose: 3000 });\n    } else {\n      const activeClients = clients.filter(c => c.isActive).length;\n      const estimatedMinutes = Math.ceil(activeClients / 5); // ~5 clients per minute with batching\n      const confirmMessage = `This will sync ${activeClients} active client${activeClients !== 1 ? 's' : ''} in parallel batches.\\n\\nEstimated time: ${estimatedMinutes}-${estimatedMinutes + 2} minutes.\\n\\nContinue?`;\n      if (!window.confirm(confirmMessage)) {\n        return;\n      }\n      toast.info(`Syncing ${activeClients} clients... This may take ${estimatedMinutes}-${estimatedMinutes + 2} minutes.`, { autoClose: 5000 });\n    }\n\n    const result = selectedClientId\n      ? await syncClient(selectedClientId)\n      : await syncAllClients();\n    \n    if (result.success) {\n      const message = result.data?.results \n        ? `Sync completed! ${result.data.results.successful}/${result.data.results.totalClients} clients synced successfully.`\n        : result.message || 'Sync completed successfully!';\n      toast.success(message, { autoClose: 5000 });\n      refetch();\n      refetchClients();\n    } else {\n      toast.error(result.error || result.message || 'Sync failed. Please try again.', { autoClose: 5000 });\n    }\n  };\n\n  const handleClientChange = (clientId) => {\n    setSelectedClientId(clientId);\n  };\n\n  const handleModalSuccess = () => {\n    refetchClients();\n    refetch();\n  };\n\n  // Listen to global sync-complete event (dispatched from Settings after sync)\n  React.useEffect(() => {\n    const handler = (evt) => {\n      // Trigger refetch of dashboard data and clients\n      refetchClients();\n      refetch();\n      // bump refresh key to signal child sections to refetch\n      setRefreshKey(Date.now());\n    };\n\n    window.addEventListener('mautic:sync-complete', handler);\n    return () => window.removeEventListener('mautic:sync-complete', handler);\n  }, [refetchClients, refetch]);\n\n  if (loading || clientsLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <RefreshCw className=\"animate-spin text-blue-600\" size={32} />\n        <span className=\"ml-3 text-gray-600\">Loading dashboard...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n      {/* Header */}\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Autovation  Dashboard</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Monitor your Autovation performance and email campaigns\n        </p>\n      </div>\n\n      {/* No Clients Warning */}\n      {clients.length === 0 && (\n        <div className=\"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center\">\n          <AlertCircle className=\"text-yellow-600 mx-auto mb-3\" size={48} />\n          <h3 className=\"text-lg font-semibold text-yellow-900 mb-2\">No Autovation Clients Configured</h3>\n          <p className=\"text-sm text-yellow-800 mb-4\">\n            You need to add at least one Mautic client to start syncing data.\n          </p>\n          {/* Client creation moved to Settings; open Settings to add clients */}\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start\">\n          <AlertCircle className=\"text-red-600 mr-3 flex-shrink-0 mt-0.5\" size={18} />\n          <p className=\"text-sm text-red-800 leading-relaxed\">{error}</p>\n        </div>\n      )}\n\n      {/* Controls */}\n      <div className=\"mb-6 flex items-center justify-between gap-4 bg-white p-3 rounded-lg shadow-sm border border-gray-200\">\n        <div className=\"flex items-center gap-4\">\n          {!isClientLocked && (\n            <ClientSelector\n              clients={clients}\n              selectedClientId={selectedClientId}\n              onChange={handleClientChange}\n            />\n          )}\n          {isClientLocked && clientName && (\n            <div className=\"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg font-medium\">\n               Viewing: {clientName}\n            </div>\n          )}\n        </div>\n        \n        <button\n          onClick={handleSync}\n          disabled={isSyncing || clients.length === 0}\n          className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          title={clients.length === 0 ? 'Add a client first' : 'Sync data from Mautic (may take 1-3 minutes)'}\n        >\n          <RefreshCw className={isSyncing ? 'animate-spin' : ''} size={16} />\n          {isSyncing ? 'Syncing... Please wait' : 'Sync Now'}\n        </button>\n      </div>\n\n      {/* Clients management removed from dashboard (moved to Settings) */}\n\n      {/* Metrics Cards - Show for selected client OR all clients */}\n      {metrics && clients.length > 0 && (\n        <>\n          <MetricsCards metrics={metrics} />\n\n          {/* Tabs Navigation */}\n          <div className=\"bg-white rounded-lg shadow-sm mb-6 mt-6\">\n            <div className=\"border-b border-gray-200\">\n              <nav className=\"flex space-x-8 px-6\" aria-label=\"Tabs\">\n                <button\n                  onClick={() => setActiveTab('campaigns')}\n                  className={`\n                    flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                    ${activeTab === 'campaigns'\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                    }\n                  `}\n                >\n                  <Target className=\"w-4 h-4\" />\n                  <span>Campaigns</span>\n                </button>\n\n                <button\n                  onClick={() => setActiveTab('emails')}\n                  className={`\n                    flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                    ${activeTab === 'emails'\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                    }\n                  `}\n                >\n                  <Mail className=\"w-4 h-4\" />\n                  <span>Emails</span>\n                </button>\n\n                <button\n                  onClick={() => setActiveTab('segments')}\n                  className={`\n                    flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                    ${activeTab === 'segments'\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                    }\n                  `}\n                >\n                  <List className=\"w-4 h-4\" />\n                  <span>Segments</span>\n                </button>\n              </nav>\n            </div>\n          </div>\n\n          {/* Tab Content */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            {activeTab === 'campaigns' && <RealCampaignsSection clientId={selectedClientId} refreshKey={refreshKey} />}\n            {activeTab === 'emails' && <CampaignsSection clientId={selectedClientId} refreshKey={refreshKey} />}\n            {activeTab === 'segments' && <SegmentsSection clientId={selectedClientId} refreshKey={refreshKey} />}\n          </div>\n        </>\n      )}\n\n      {/* Client add/edit moved to Settings */}\n    </div>\n  );\n}\n","/**\n * Services Page\n * \n * Provides access to integrated third-party services:\n * - Ringless Voicemail: Ringless voicemail & AI voice analytics dashboard\n * - Mautic: Marketing automation & CRM platform\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { DropCowboyDashboard } from '../components/dropCowboy';\nimport { MauticDashboard } from '../components/mautic';\nimport VicidialDashboard from '../components/vicidial/pages/VicidialDashboard';\n\n\nexport default function Services() {\n    // Get saved service from localStorage or default to 'dropcowboy'\n    const [selectedService, setSelectedService] = useState(() => {\n        const saved = localStorage.getItem('selectedService');\n        return saved || 'dropcowboy';\n    });\n\n    // Save selected service to localStorage whenever it changes\n    useEffect(() => {\n        localStorage.setItem('selectedService', selectedService);\n    }, [selectedService]);\n\n    return (\n        <div className=\"min-h-screen bg-gray-50\">\n            {/* Service Navigation */}\n            <div className=\"bg-white border-b border-gray-200 sticky top-16 z-40\">\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n                    <div className=\"flex items-center gap-2\">\n                        <span className=\"text-sm font-medium text-gray-500 py-4\">Services:</span>\n                        <nav className=\"flex space-x-4\" aria-label=\"Services\">\n                            <button\n                                onClick={() => setSelectedService('dropcowboy')}\n                                className={`\n                  flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors\n                  ${selectedService === 'dropcowboy'\n                                        ? 'border-blue-500 text-blue-600'\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                                    }\n                `}\n                            >\n                                <span className=\"text-lg\"></span>\n                                <span>Ringless Voicemail</span>\n                            </button>\n\n                            <button\n                                onClick={() => setSelectedService('mautic')}\n                                className={`\n                  flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors\n                  ${selectedService === 'mautic'\n                                        ? 'border-blue-500 text-blue-600'\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                                    }\n                `}\n                            >\n                                <span className=\"text-lg\"></span>\n                                <span>Autovation</span>\n                            </button>\n                            <button\n                                onClick={() => setSelectedService('vicidial')}\n                                className={`\n                  flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors\n                  ${selectedService === 'vicidial'\n                                        ? 'border-blue-500 text-blue-600'\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                                    }\n                `}\n                            >\n                                <span className=\"text-lg\"></span>\n                                <span>Vici Dial</span>\n                            </button>\n                        </nav>\n                    </div>\n                </div>\n            </div>\n\n            {/* Service Content */}\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n                {selectedService === 'dropcowboy' && <DropCowboyDashboard />}\n                {selectedService === 'mautic' && <MauticDashboard />}\n                {selectedService === 'vicidial' && <VicidialDashboard />}\n            </div>\n        </div>\n    );\n}\n"],"names":["__iconNode","Building2","createLucideIcon","MousePointerClick","Target","UserX","API_BASE_URL","RecordsTable","campaigns","user","useAuth","serverRecords","setServerRecords","useState","totalRecords","setTotalRecords","currentPage","setCurrentPage","loadingPage","setLoadingPage","metrics","setMetrics","useEffect","saved","fetchPage","tableContainerRef","useRef","scrollRatioRef","maintainScrollRef","fadeIn","setFadeIn","searchTerm","setSearchTerm","statusFilter","setStatusFilter","clientFilter","setClientFilter","dateFilters","setDateFilters","fetchLoading","setFetchLoading","fetchMessage","setFetchMessage","recordsPerPage","SkeletonRow","compact","jsxs","jsx","records","campaign","record","clientOptions","r","c","a","b","container","t","maxAfter","currentRecords","totalPages","getStatusBadge","status","statusLower","gotoPageInput","setGotoPageInput","gotoInvalid","setGotoInvalid","handleGoto","n","page","limit","params","json","rows","total","normalized","err","Loader2","e","prev","Fragment","_","i","index","Phone","Clock","Mail","DropCowboyDashboard","clientCampaigns","clientName","selectedClient","setSelectedClient","setClientOptions","recordsClientFilter","setRecordsClientFilter","debouncedSearch","setDebouncedSearch","recordsFilters","React","recordsMeta","setRecordsMeta","initialFilters","loading","error","refetchMetrics","useMetrics","syncLogs","refetchSyncLogs","useSyncLogs","triggerFetch","isFetching","fetchError","useManualFetch","clients","extractUniqueClients","interval","handleFetchNow","toast","result","filteredCampaigns","ErrorBoundary","AlertCircle","format","parseISO","RefreshCw","Activity","meta","MetricsCards","overview","emailStats","cards","formatNumber","Send","List","card","Icon","ClientSelector","selectedClientId","onChange","client","RealCampaignsSection","clientId","refreshKey","setPage","pagination","refetch","useCampaigns","Calendar","formatDate","p","ChevronLeft","ChevronRight","CampaignsSection","emails","useEmails","email","Eye","formatPercentage","SegmentsSection","segments","useSegments","segment","Users","MauticDashboard","setSelectedClientId","activeTab","setActiveTab","clientsLoading","refetchClients","useClients","useDashboardMetrics","syncAllClients","syncClient","isSyncing","useSync","setRefreshKey","isClientLocked","handleSync","activeClients","estimatedMinutes","confirmMessage","message","handleClientChange","handler","evt","Services","selectedService","setSelectedService","VicidialDashboard"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}